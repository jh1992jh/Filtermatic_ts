{"version":3,"sources":["src/helpers/randomId.ts","src/stickers/index.ts","src/Stickers.ts","src/Filters.ts","src/filters/filters.ts","src/PaintBrush.ts","src/ToolMenu.ts","src/Text.ts","src/index.ts","../../../AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","push","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","type","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","console","clear","hmrApply","v","hmrAcceptRun","window","reload","close","onclose","log","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","document","body","appendChild","getElementById","remove","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","Array","isArray","length","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"src.f10117fe.js","sourceRoot":"..","sourcesContent":["export const ID = (): string => {\r\n  return (\r\n    \"_\" +\r\n    Math.random()\r\n      .toString(36)\r\n      .substr(2, 9)\r\n  );\r\n};\r\n","import glasses1 from \"./glasses1.png\";\r\nimport glasses2 from \"./glasses2.png\";\r\nimport glasses3 from \"./glasses3.png\";\r\nimport grin1 from \"./grin1.png\";\r\nimport tear1 from \"./tear1.svg\";\r\nimport sad1 from \"./sad1.svg\";\r\nimport smirk1 from \"./smirk1.png\";\r\nimport unibrow1 from \"./unibrow1.svg\";\r\nimport teehee from \"./teehee.png\";\r\nimport lol from \"./lol.png\";\r\nimport zzz from \"./zzz.png\";\r\nimport awesome from \"./awesome.png\";\r\nimport cool from \"./cool.png\";\r\nimport exclamation from \"./exclamation.png\";\r\nimport question from \"./question.png\";\r\nimport dollar from \"./dollar.png\";\r\nimport euro from \"./euro.png\";\r\nimport britishPound from \"./britishPound.png\";\r\n\r\n// NOTE ALL THE STICKERS HAVE TO BE 50x20 size\r\n\r\nexport const stickers = [\r\n  // HEADWEAR STICKERS\r\n  {\r\n    title: \"glasses1\",\r\n    src: glasses1,\r\n    height: 20,\r\n    width: 50,\r\n    id: `glasses1_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"glasses2\",\r\n    src: glasses2,\r\n    height: 20,\r\n    width: 50,\r\n    id: `glasses2_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"glasses3\",\r\n    src: glasses3,\r\n    height: 20,\r\n    width: 50,\r\n    id: `glasses3_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  // TEXT STICKERS\r\n  {\r\n    title: \"teehee\",\r\n    src: teehee,\r\n    height: 40,\r\n    width: 100,\r\n    id: `teehee_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"lol\",\r\n    src: lol,\r\n    height: 40,\r\n    width: 100,\r\n    id: `lol_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"zzz\",\r\n    src: zzz,\r\n    height: 40,\r\n    width: 100,\r\n    id: `zzz_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"awesome\",\r\n    src: awesome,\r\n    height: 41,\r\n    width: 158,\r\n    id: `awesome_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"cool\",\r\n    src: cool,\r\n    height: 67,\r\n    width: 98,\r\n    id: `cool_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"exclamation\",\r\n    src: exclamation,\r\n    height: 67,\r\n    width: 15,\r\n    id: `exclamation_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"question\",\r\n    src: question,\r\n    height: 67,\r\n    width: 31,\r\n    id: `question_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"dollar\",\r\n    src: dollar,\r\n    height: 67,\r\n    width: 31,\r\n    id: `dollar_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"euro\",\r\n    src: euro,\r\n    height: 67,\r\n    width: 31,\r\n    id: `euro_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"britishPound\",\r\n    src: britishPound,\r\n    height: 67,\r\n    width: 31,\r\n    id: `britishPound_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  // EMOJI STICKERS\r\n  {\r\n    title: \"grin1\",\r\n    src: grin1,\r\n    height: 20,\r\n    width: 50,\r\n    id: `grin1_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"tear1\",\r\n    src: tear1,\r\n    height: 34,\r\n    width: 20.5,\r\n    id: `tear1_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"sad1\",\r\n    src: sad1,\r\n    height: 16,\r\n    width: 28,\r\n    id: `sad1_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"smirk1\",\r\n    src: smirk1,\r\n    height: 10,\r\n    width: 30,\r\n    id: `smirk1_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"unibrow1\",\r\n    src: unibrow1,\r\n    height: 9,\r\n    width: 48,\r\n    id: `unibrow1_`\r\n  }\r\n];\r\n","import { ID } from \"./helpers/randomId\";\r\nimport { stickers as originalStickers } from \"./stickers/index\";\r\n\r\ntype CustomEvent = Event & MouseEvent;\r\n\r\ninterface ISticker {\r\n  title: string;\r\n  src: string;\r\n  height: number;\r\n  width: number;\r\n  id: string;\r\n  x?: any;\r\n  y?: any;\r\n}\r\n\r\nexport class Stickers {\r\n  addedStickers: ISticker[] = [];\r\n  dragging: boolean = false;\r\n  stickerMoved: ISticker = this.selectedSticker;\r\n  modifying: boolean = false;\r\n  modifiedSticker: ISticker = this.selectedSticker;\r\n\r\n  constructor(\r\n    public stickers: ISticker[],\r\n    public selectedSticker: ISticker,\r\n    public ctx: CanvasRenderingContext2D,\r\n    public canvas: HTMLCanvasElement\r\n  ) {}\r\n\r\n  addListeners = () => {\r\n    const handleEvent = (e: Event): void => {\r\n      switch (e.type) {\r\n        case \"dblclick\":\r\n          this.deleteSticker(<CustomEvent>e);\r\n          break;\r\n        case \"click\":\r\n          this.selectModiefiedSticker(<CustomEvent>e);\r\n          break;\r\n        case \"mousemove\":\r\n          this.moveSticker(<CustomEvent>e);\r\n          break;\r\n        case \"mousedown\":\r\n          this.dragging = true;\r\n\r\n          this.updateStickerCords(<CustomEvent>e, (e.target as Element).id);\r\n          break;\r\n        case \"mouseup\":\r\n          this.dragging = false;\r\n          this.updateStickerCords(<CustomEvent>e, (e.target as Element).id);\r\n\r\n          break;\r\n        case \"mouseleave\":\r\n          this.dragging = false;\r\n        default:\r\n          return;\r\n      }\r\n    };\r\n    const stickersAdded = document.querySelectorAll(\".sticker\");\r\n\r\n    stickersAdded.forEach((sticker: Element) => {\r\n      \"click mouseenter mouseleave mousemove dblclick mousedown mouseup\"\r\n        .split(\" \")\r\n        .map(name => {\r\n          sticker.addEventListener(name, handleEvent, false);\r\n        });\r\n    });\r\n  };\r\n  selectSticker = (e: Event): void => {\r\n    const sticker = originalStickers.filter(\r\n      (sticker: ISticker) => sticker.title === (e.target as Element).id\r\n    );\r\n\r\n    const selectedStickerEl = document.querySelectorAll(\".selected_sticker\");\r\n\r\n    if (selectedStickerEl) {\r\n      selectedStickerEl.forEach(sticker => {\r\n        sticker.classList.remove(\"selected_sticker\");\r\n      });\r\n    }\r\n\r\n    const parentStickerElement = (e.target as Element).parentElement;\r\n    if ((e.target as Element) && parentStickerElement) {\r\n      if (parentStickerElement.classList.contains(\"menu_sticker\")) {\r\n        parentStickerElement.classList.add(\"selected_sticker\");\r\n      }\r\n    }\r\n\r\n    if ((e.target as Element).classList.contains(\"menu_sticker\")) {\r\n      (e.target as Element).classList.add(\"selected_sticker\");\r\n    }\r\n\r\n    this.selectedSticker = sticker[0];\r\n  };\r\n\r\n  moveSticker = (e: MouseEvent): void => {\r\n    const mouseX = e.clientX;\r\n    const mouseY = e.clientY;\r\n    const sticker = e.target as HTMLImageElement;\r\n\r\n    if (sticker && this.dragging) {\r\n      sticker.style.top = `${mouseY - sticker.height / 2}px`;\r\n      sticker.style.left = `${mouseX - sticker.width / 2}px`;\r\n    }\r\n  };\r\n\r\n  setupStickerMenu = (): void => {\r\n    const menu = document.querySelector<HTMLElement>(\".sticker_menu\");\r\n\r\n    if (menu) {\r\n      this.stickers.forEach((sticker: ISticker) => {\r\n        menu.innerHTML += `\r\n            <div class=\"menu_item menu_sticker\" id=\"${sticker.title}\">\r\n              <img src=\"${sticker.src}\" id=\"${\r\n          sticker.title\r\n        }\" class=\"sticker_img\"/>\r\n            </div>\r\n          `;\r\n      });\r\n    }\r\n\r\n    const menuStickers = document.querySelectorAll(\".menu_sticker\");\r\n\r\n    menuStickers.forEach(sticker => {\r\n      sticker.addEventListener(\"click\", e => this.selectSticker(e));\r\n    });\r\n  };\r\n\r\n  updateStickerCords = (e: MouseEvent, id: string): void => {\r\n    const { left, top } = this.canvas.getBoundingClientRect();\r\n    const sticker = e.target as HTMLImageElement;\r\n\r\n    const mouseX = e.clientX - sticker.width / 2;\r\n    const mouseY = e.clientY - sticker.height / 2;\r\n\r\n    const newStickers = this.addedStickers.map(\r\n      (sticker: ISticker): ISticker => {\r\n        if (sticker.id === id) {\r\n          sticker.x = mouseX - left;\r\n          sticker.y = mouseY - top;\r\n        }\r\n        return sticker;\r\n      }\r\n    );\r\n\r\n    this.addedStickers = newStickers;\r\n  };\r\n\r\n  addSticker = (): void => {\r\n    const stickerImg = document.createElement(\"img\");\r\n    const stickerWrapper = document.createElement(\"div\");\r\n    stickerWrapper.className = \"sticker_wrapper\";\r\n    stickerImg.src = this.selectedSticker.src;\r\n    stickerImg.className = \"sticker\";\r\n    stickerImg.style.height = `${this.selectedSticker.height}px`;\r\n    stickerImg.style.width = `${this.selectedSticker.width}px`;\r\n    stickerImg.draggable = false;\r\n    const id = stickerImg.id + this.selectedSticker.id + ID();\r\n    stickerWrapper.id = stickerImg.id = id;\r\n    const body = document.querySelector<HTMLBodyElement>(\"body\");\r\n    body && body.appendChild(stickerImg);\r\n\r\n    this.addListeners();\r\n\r\n    const { left, top } = this.canvas.getBoundingClientRect();\r\n\r\n    const canvasStickerCenterY =\r\n      this.canvas.height / 2 - this.selectedSticker.height / 2;\r\n    const canvasStikcerCenterX =\r\n      this.canvas.width / 2 - this.selectedSticker.width / 2;\r\n\r\n    stickerImg.style.top = `${canvasStickerCenterY - top}px`;\r\n    stickerImg.style.left = `${left + canvasStikcerCenterX}px`;\r\n\r\n    const newSticker = {\r\n      ...this.selectedSticker,\r\n      id: id,\r\n      x: canvasStikcerCenterX + left,\r\n      y: canvasStickerCenterY - top\r\n    };\r\n\r\n    this.addedStickers.push(newSticker);\r\n  };\r\n\r\n  deleteSticker = (e: MouseEvent): void => {\r\n    const id = (e.target as Element).id;\r\n    this.addedStickers = this.addedStickers.filter(\r\n      (sticker: ISticker) => sticker.id !== id\r\n    );\r\n    (e.target as Element).remove();\r\n  };\r\n\r\n  selectModiefiedSticker = (e: MouseEvent): void => {\r\n    const targetSticker = this.addedStickers.filter((sticker: ISticker) => {\r\n      return sticker.id === (e.target as Element).id;\r\n    })[0];\r\n\r\n    if (targetSticker) {\r\n      const prevModifyModal = document.querySelector(\".sticker_modal\");\r\n      prevModifyModal && prevModifyModal.remove();\r\n\r\n      this.modifiedSticker = targetSticker;\r\n      const { title, id, x, y, height, width } = this.modifiedSticker;\r\n      this.modifying = true;\r\n\r\n      const { left, top } = this.canvas.getBoundingClientRect();\r\n      const modifyModal = document.createElement(\"div\");\r\n      const stickerImg = document.createElement(\"img\");\r\n      const infoList = document.createElement(\"ul\");\r\n      // Cant't loop trough the obj to get both value and key because ISticker has no property index type string, :(\r\n      const titleLi = document.createElement(\"li\");\r\n      titleLi.textContent = `title: ${title}`;\r\n      const idLi = document.createElement(\"li\");\r\n      idLi.textContent = `id: ${id}`;\r\n      const xLi = document.createElement(\"li\");\r\n      xLi.textContent = `x: ${this.modifiedSticker.x.toFixed(1)}`;\r\n      const yLi = document.createElement(\"li\");\r\n      yLi.textContent = `y: ${this.modifiedSticker.y.toFixed(1)}`;\r\n      const widthLi = document.createElement(\"li\");\r\n      widthLi.textContent = `width: ${width}`;\r\n      widthLi.id = \"sticker_width\";\r\n      const heightLi = document.createElement(\"li\");\r\n      heightLi.id = \"sticker_height\";\r\n      heightLi.textContent = `height: ${height}`;\r\n\r\n      const close = document.createElement(\"span\");\r\n      close.className = \"close_modal\";\r\n      close.textContent = \"X\";\r\n\r\n      const propArr = [titleLi, idLi, xLi, yLi, widthLi, heightLi];\r\n\r\n      propArr.forEach(prop => {\r\n        infoList.appendChild(prop);\r\n      });\r\n\r\n      const body = document.querySelector(\"body\");\r\n\r\n      modifyModal.className = \"sticker_modal\";\r\n      stickerImg.src = this.modifiedSticker.src;\r\n\r\n      const incBtn = document.createElement(\"button\");\r\n      const decBtn = document.createElement(\"button\");\r\n\r\n      incBtn.textContent = \"+\";\r\n      decBtn.textContent = \"-\";\r\n\r\n      incBtn.className = \"size_btn\";\r\n      decBtn.className = \"size_btn\";\r\n\r\n      modifyModal.appendChild(stickerImg);\r\n      modifyModal.appendChild(infoList);\r\n      modifyModal.appendChild(close);\r\n      modifyModal.appendChild(incBtn);\r\n      modifyModal.appendChild(decBtn);\r\n\r\n      modifyModal.style.top = `${this.modifiedSticker.y}px`;\r\n      modifyModal.style.left = `${this.modifiedSticker.x}px`;\r\n\r\n      body && body.appendChild(modifyModal);\r\n\r\n      incBtn.style.top = `30%`;\r\n      incBtn.style.right = \"1em\";\r\n      decBtn.style.top = `60%`;\r\n      incBtn.style.right = \"1em\";\r\n\r\n      incBtn.addEventListener(\"click\", () => this.changeSize(\"inc\"));\r\n      decBtn.addEventListener(\"click\", () => this.changeSize(\"dec\"));\r\n      close.addEventListener(\"click\", () => modifyModal.remove());\r\n    }\r\n  };\r\n\r\n  changeSize = (change: string): void => {\r\n    const stickerWidth = document.querySelector(\"#sticker_width\");\r\n    const stickerHeight = document.querySelector(\"#sticker_height\");\r\n\r\n    const sticker: HTMLImageElement | null = document.querySelector(\r\n      `#${this.modifiedSticker.id}`\r\n    );\r\n    if (change === \"inc\" && sticker && stickerWidth && stickerHeight) {\r\n      const width = this.modifiedSticker.width;\r\n      const height = this.modifiedSticker.height;\r\n\r\n      if (width > height) {\r\n        const ratio = width / height;\r\n        this.modifiedSticker.width += 3;\r\n        this.modifiedSticker.height += 3 * ratio;\r\n      }\r\n\r\n      stickerWidth.textContent = `width: ${width.toString()}`;\r\n      stickerHeight.textContent = `height: ${height.toFixed().toString()}`;\r\n\r\n      sticker.style.height = `${this.modifiedSticker.height}px`;\r\n      sticker.style.width = `${this.modifiedSticker.width}px`;\r\n    }\r\n\r\n    if (change === \"dec\" && sticker && stickerWidth && stickerHeight) {\r\n      this.modifiedSticker.height -= 3;\r\n      this.modifiedSticker.width -= 3;\r\n\r\n      const width = this.modifiedSticker.width.toString();\r\n      const height = this.modifiedSticker.height.toString();\r\n\r\n      stickerWidth.textContent = `width: ${width}`;\r\n      stickerHeight.textContent = `height: ${height}`;\r\n\r\n      sticker.style.height = `${this.modifiedSticker.height}px`;\r\n      sticker.style.width = `${this.modifiedSticker.width}px`;\r\n    }\r\n  };\r\n}\r\n","import { IFilter } from \"./filters/filters\";\r\n\r\nexport class Filters {\r\n  constructor(\r\n    public filters: IFilter[],\r\n    public selectedFilter: IFilter,\r\n    public ctx: CanvasRenderingContext2D\r\n  ) {}\r\n\r\n  setupFilterMenu = (): void => {\r\n    const menu = document.querySelector<HTMLElement>(\".filter_menu\");\r\n\r\n    if (menu) {\r\n      this.filters.forEach((filter: IFilter) => {\r\n        menu.innerHTML += `\r\n        <div class=\"menu_item menu_filter\" id=\"${\r\n          filter.title\r\n        }\" style=\"background: rgba(${filter.r + 100}, ${filter.g +\r\n          100}, ${filter.b + 100}, 0.5)\">\r\n          <span id=\"${filter.title}\">${filter.title}</span>\r\n        </div>\r\n        `;\r\n      });\r\n    }\r\n\r\n    const menu_filters = document.querySelectorAll(\".menu_filter\");\r\n\r\n    menu_filters.forEach(filter => {\r\n      return filter.addEventListener(\"click\", (e: Event) =>\r\n        this.selectFilter(e)\r\n      );\r\n    });\r\n  };\r\n\r\n  selectFilter = (e: Event) => {\r\n    const filterTitle = (e.target as HTMLElement).id;\r\n\r\n    const filter = this.filters.filter(\r\n      (filter: IFilter) => filter.title === filterTitle\r\n    );\r\n\r\n    this.selectedFilter = filter[0];\r\n  };\r\n\r\n  addFilter = () => {\r\n    let pixels = this.ctx.getImageData(0, 0, 500, 500);\r\n\r\n    const { r, g, b } = this.selectedFilter;\r\n\r\n    for (let i = 0; i < pixels.data.length; i += 4) {\r\n      pixels.data[i + 0] = pixels.data[i + 0] + r; // RED\r\n      pixels.data[i + 1] = pixels.data[i + 1] + g; // GREEN\r\n      pixels.data[i + 2] = pixels.data[i + 2] + b; // Blue\r\n    }\r\n\r\n    this.ctx.putImageData(pixels, 0, 0);\r\n  };\r\n}\r\n","export interface IFilter {\r\n  title: string;\r\n  r: number;\r\n  g: number;\r\n  b: number;\r\n}\r\n\r\nexport const filters: IFilter[] = [\r\n  {\r\n    title: \"lightBlue\",\r\n    r: 0,\r\n    g: -7,\r\n    b: 35.5\r\n  },\r\n  {\r\n    title: \"Brilliant Lavander\",\r\n    r: 6,\r\n    g: -36,\r\n    b: 15\r\n  },\r\n  {\r\n    title: \"Camouflage Green\",\r\n    r: 0,\r\n    g: 14,\r\n    b: -13\r\n  },\r\n  {\r\n    title: \"Azure Mist\",\r\n    r: 15,\r\n    g: 30,\r\n    b: 30\r\n  },\r\n  {\r\n    title: \"Amber\",\r\n    r: 5,\r\n    g: -49,\r\n    b: -70\r\n  },\r\n  {\r\n    title: \"Alien\",\r\n    r: -28,\r\n    g: 2,\r\n    b: -58\r\n  },\r\n  {\r\n    title: \"Cool Green\",\r\n    r: -91,\r\n    g: 15,\r\n    b: -36\r\n  },\r\n  {\r\n    title: \"Snow\",\r\n    r: 55,\r\n    g: 50,\r\n    b: 50\r\n  },\r\n  {\r\n    title: \"Sky Blue\",\r\n    r: -65,\r\n    g: 6,\r\n    b: 15\r\n  },\r\n  {\r\n    title: \"Lime\",\r\n    r: -50,\r\n    g: 5,\r\n    b: -50\r\n  },\r\n  {\r\n    title: \"Hot Pink\",\r\n    r: 25,\r\n    g: -25,\r\n    b: 0\r\n  },\r\n  {\r\n    title: \"Turquoise\",\r\n    r: -100,\r\n    g: 16,\r\n    b: 19\r\n  }\r\n];\r\n","type CustomEvent = Event & MouseEvent;\r\n\r\ninterface CustomButton extends HTMLButtonElement {\r\n  textContent: string;\r\n}\r\n\r\nexport class PaintBrush {\r\n  painting: boolean = false;\r\n  brushWidth: number = 5;\r\n  brushColor: string = \"#37ccc9\";\r\n  changeWidthBtns: NodeList = document.querySelectorAll(\".change_bw\");\r\n  changeColor: HTMLInputElement | null = document.querySelector<\r\n    HTMLInputElement\r\n  >(\".change_bc\");\r\n\r\n  constructor(\r\n    public canvas: HTMLCanvasElement,\r\n    public ctx: CanvasRenderingContext2D\r\n  ) {}\r\n\r\n  addListeners = (): void => {\r\n    const handleEvent = (e: Event): void => {\r\n      switch (e.type) {\r\n        case \"mousedown\":\r\n          this.painting = true;\r\n          break;\r\n        case \"mouseup\":\r\n          this.painting = false;\r\n          break;\r\n        case \"mousemove\":\r\n          this.painting && this.addPaint(<CustomEvent>e);\r\n          break;\r\n        case \"mouseleave\":\r\n          this.painting = false;\r\n          break;\r\n      }\r\n    };\r\n\r\n    \"mousedown mouseup mousemove mouseleave\".split(\" \").map(name => {\r\n      this.canvas.addEventListener(name, handleEvent, false);\r\n    });\r\n\r\n    if (this.changeWidthBtns) {\r\n      this.changeWidthBtns.forEach((button: Node) => {\r\n        button.addEventListener(\"click\", (e: Event) => {\r\n          if (e.target) {\r\n            this.changeBrushWidth(\r\n              parseInt((e.target as CustomButton).textContent)\r\n            );\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n    if (this.changeColor) {\r\n      this.changeColor.addEventListener(\"change\", (e: Event) => {\r\n        this.changeBrushColor((e.target as HTMLInputElement).value);\r\n      });\r\n    }\r\n  };\r\n\r\n  addPaint = (e: MouseEvent) => {\r\n    const mouseX = e.clientX;\r\n    const mouseY = e.clientY;\r\n    this.ctx.strokeStyle = this.brushColor;\r\n    this.ctx.lineWidth = this.brushWidth;\r\n    this.ctx.lineJoin = \"round\";\r\n    this.ctx.lineCap = \"round\";\r\n    this.ctx.beginPath();\r\n    const { left, top } = this.canvas.getBoundingClientRect();\r\n    this.ctx.moveTo(mouseX - left, mouseY - top);\r\n    this.ctx.lineTo(mouseX - left, mouseY - top);\r\n\r\n    this.ctx.stroke();\r\n  };\r\n\r\n  changeBrushWidth = (width: number): void => {\r\n    this.brushWidth = width;\r\n  };\r\n\r\n  changeBrushColor = (color: string): void => {\r\n    this.brushColor = color;\r\n  };\r\n}\r\n","export class ToolMenu {\r\n  showToolMenu: string | null = null;\r\n  paintTool: HTMLButtonElement | null = document.querySelector<\r\n    HTMLButtonElement\r\n  >(\"#paint_tool\");\r\n  textTool: HTMLButtonElement | null = document.querySelector<\r\n    HTMLButtonElement\r\n  >(\"#text_tool\");\r\n  infoTool: HTMLButtonElement | null = document.querySelector<\r\n    HTMLButtonElement\r\n  >(\"#info_tool\");\r\n  paintToolMenu: HTMLDivElement | null = document.querySelector<HTMLDivElement>(\r\n    \"#paint_tool_menu\"\r\n  );\r\n  textToolMenu: HTMLDivElement | null = document.querySelector<HTMLDivElement>(\r\n    \"#text_tool_menu\"\r\n  );\r\n  infoToolMenu: HTMLDivElement | null = document.querySelector<HTMLDivElement>(\r\n    \"#info_tool_menu\"\r\n  );\r\n\r\n  addListeners = (): void => {\r\n    this.paintTool &&\r\n      this.paintTool.addEventListener(\"click\", (e: Event) =>\r\n        this.toggleToolMenu(e)\r\n      );\r\n\r\n    this.textTool &&\r\n      this.textTool.addEventListener(\"click\", (e: Event) => {\r\n        this.toggleToolMenu(e);\r\n      });\r\n\r\n    this.infoTool &&\r\n      this.infoTool.addEventListener(\"click\", (e: Event) => {\r\n        this.toggleToolMenu(e);\r\n      });\r\n    const closeBtns = document.querySelectorAll(\".close_toolmenu\");\r\n\r\n    closeBtns.forEach(button => {\r\n      button.addEventListener(\"click\", (e: any) => {\r\n        e.target.parentElement.style.display = \"none\";\r\n      });\r\n    });\r\n  };\r\n\r\n  toggleToolMenu = (e: any): void => {\r\n    if (\r\n      e.target &&\r\n      e.target.id === \"paint_tool\" &&\r\n      this.paintToolMenu &&\r\n      this.textToolMenu &&\r\n      this.infoToolMenu\r\n    ) {\r\n      this.textToolMenu.style.display = \"none\";\r\n      this.infoToolMenu.style.display = \"none\";\r\n      this.paintToolMenu.style.display = \"flex\";\r\n    } else if (\r\n      e.target.id === \"text_tool\" &&\r\n      this.paintToolMenu &&\r\n      this.textToolMenu &&\r\n      this.infoToolMenu\r\n    ) {\r\n      this.paintToolMenu.style.display = \"none\";\r\n      this.infoToolMenu.style.display = \"none\";\r\n      this.textToolMenu.style.display = \"flex\";\r\n    } else if (\r\n      e.target &&\r\n      e.target.id === \"info_tool\" &&\r\n      this.paintToolMenu &&\r\n      this.textToolMenu &&\r\n      this.infoToolMenu\r\n    ) {\r\n      this.paintToolMenu.style.display = \"none\";\r\n      this.textToolMenu.style.display = \"none\";\r\n      this.infoToolMenu.style.display = \"flex\";\r\n    }\r\n  };\r\n}\r\n","import { ID } from \"./helpers/randomId\";\r\n\r\ntype CustomEvent = Event & MouseEvent;\r\n\r\ninterface IText {\r\n  text: string;\r\n  id: string;\r\n  x: number;\r\n  y: number;\r\n  offsetW: number;\r\n  offsetH: number;\r\n  color: string;\r\n  size: number;\r\n}\r\n\r\ninterface TextDiv extends HTMLDivElement {\r\n  width: number;\r\n  height: number;\r\n}\r\n\r\nexport class Text {\r\n  addedText: IText[] = [];\r\n  textInput: HTMLTextAreaElement | null = document.querySelector<\r\n    HTMLTextAreaElement\r\n  >(\"#text_input\");\r\n  addTextBtn: HTMLButtonElement | null = document.querySelector<\r\n    HTMLButtonElement\r\n  >(\"#add_text_btn\");\r\n  dragging: boolean = false;\r\n  textSize: number = 16;\r\n  textColor: string = \"#ffffff\";\r\n\r\n  constructor(\r\n    public canvas: HTMLCanvasElement,\r\n    public ctx: CanvasRenderingContext2D\r\n  ) {}\r\n\r\n  addListeners = () => {\r\n    if (this.addTextBtn) {\r\n      this.addTextBtn.addEventListener(\"click\", () => this.addText());\r\n    }\r\n\r\n    const handleEvent = (e: Event): void => {\r\n      switch (e.type) {\r\n        case \"click\":\r\n          break;\r\n\r\n        case \"mousedown\":\r\n          this.dragging = true;\r\n\r\n          break;\r\n        case \"mouseup\":\r\n          this.dragging = false;\r\n          this.updateTextCords(<CustomEvent>e, (e.target as Element).id);\r\n          break;\r\n        case \"mouseleave\":\r\n          this.dragging = false;\r\n          this.updateTextCords(<CustomEvent>e, (e.target as Element).id);\r\n          break;\r\n        case \"mousemove\":\r\n          if (this.dragging) {\r\n            this.moveText(<CustomEvent>e);\r\n            this.updateTextCords(<CustomEvent>e, (e.target as Element).id);\r\n          }\r\n          break;\r\n        case \"dblclick\":\r\n          this.deleteText((e.target as Element).id);\r\n          break;\r\n        default:\r\n          return;\r\n      }\r\n    };\r\n\r\n    const textsAdded = document.querySelectorAll(\".added_text\");\r\n\r\n    textsAdded.forEach((text: Node) => {\r\n      \"click mousedown mouseup mouseleave mousemove dblclick\"\r\n        .split(\" \")\r\n        .map(name => {\r\n          text.addEventListener(name, handleEvent, false);\r\n        });\r\n    });\r\n\r\n    const changeTextSizeBtns = document.querySelectorAll(\".change_ts\");\r\n\r\n    changeTextSizeBtns.forEach((button: Node) => {\r\n      button.addEventListener(\"click\", (e: any) =>\r\n        this.changeTextSize(parseInt(e.target.textContent))\r\n      );\r\n    });\r\n\r\n    const changeColor = document.querySelector<HTMLInputElement>(\r\n      \"#text_color_input\"\r\n    );\r\n\r\n    changeColor &&\r\n      changeColor.addEventListener(\"change\", (e: any) => {\r\n        this.changeTextColor(e.target.value);\r\n      });\r\n  };\r\n\r\n  addText = (): void => {\r\n    if (this.textInput) {\r\n      if (this.textInput.value === \"\") return;\r\n      const body = document.querySelector<HTMLBodyElement>(\"body\");\r\n      const centerX = body && body.clientWidth / 2;\r\n      const centerY = body && body.clientHeight / 2;\r\n\r\n      if (centerX && centerY) {\r\n        const newText: IText = {\r\n          text: this.textInput.value,\r\n          id: ID(),\r\n          x: centerX,\r\n          y: centerY,\r\n          offsetW: 0,\r\n          offsetH: 0,\r\n          color: this.textColor,\r\n          size: this.textSize\r\n        };\r\n\r\n        const newAddedText = document.createElement(\"div\");\r\n\r\n        newAddedText.classList.add(\"added_text\");\r\n\r\n        newAddedText.id = newText.id;\r\n        newAddedText.style.left = `${newText.x}px`;\r\n        newAddedText.style.top = `${newText.y}px`;\r\n        newAddedText.style.color = newText.color;\r\n        newAddedText.style.fontSize = `${newText.size}px`;\r\n        newAddedText.textContent = newText.text;\r\n        newAddedText.draggable = false;\r\n\r\n        body && body.appendChild(newAddedText);\r\n        const newTextDom: HTMLDivElement | null = document.querySelector(\r\n          `#${newText.id}`\r\n        );\r\n\r\n        if (newTextDom) {\r\n          newText.offsetW = newTextDom && newTextDom.offsetWidth;\r\n          newText.offsetH = newTextDom && newTextDom.offsetHeight;\r\n        }\r\n\r\n        this.addListeners();\r\n        this.addedText.push(newText);\r\n\r\n        this.textInput.value = \"\";\r\n      }\r\n    }\r\n  };\r\n\r\n  moveText = (e: MouseEvent): void => {\r\n    const mouseX = e.clientX;\r\n    const mouseY = e.clientY;\r\n    const text = e.target as HTMLDivElement;\r\n\r\n    if (text && this.dragging) {\r\n      text.style.left = `${mouseX - text.offsetWidth / 2}px`;\r\n      text.style.top = `${mouseY - text.offsetHeight / 2}px`;\r\n    }\r\n  };\r\n\r\n  updateTextCords = (e: CustomEvent, id: string): void => {\r\n    const { left, top } = this.canvas.getBoundingClientRect();\r\n\r\n    const updatedText = e.target as HTMLDivElement;\r\n    const mouseX = e.clientX - updatedText.offsetWidth / 2 - e.offsetX / 2;\r\n    const mouseY = e.clientY + updatedText.offsetHeight / 2 - e.offsetY / 2;\r\n\r\n    const newTexts = this.addedText.map(\r\n      (text: IText): IText => {\r\n        if (id === text.id) {\r\n          text.x = updatedText.offsetLeft - left;\r\n          text.y = updatedText.offsetTop - top + updatedText.offsetHeight;\r\n        }\r\n        return text;\r\n      }\r\n    );\r\n    this.addedText = newTexts;\r\n  };\r\n\r\n  deleteText = (id: string) => {\r\n    const filterdTexts = this.addedText.filter((text: IText) => {\r\n      return text.id !== id;\r\n    });\r\n\r\n    this.addedText = filterdTexts;\r\n\r\n    const text = document.querySelector<HTMLDivElement>(`#${id}`);\r\n    text && text.remove();\r\n  };\r\n\r\n  changeTextSize = (size: number): void => {\r\n    this.textSize = size;\r\n  };\r\n\r\n  changeTextColor = (color: string): void => {\r\n    this.textColor = color;\r\n  };\r\n}\r\n","import { Stickers } from \"./Stickers\";\r\nimport { stickers } from \"./stickers/index\";\r\nimport { Filters } from \"./Filters\";\r\nimport { filters } from \"./filters/filters\";\r\nimport { PaintBrush } from \"./PaintBrush\";\r\nimport { ToolMenu } from \"./ToolMenu\";\r\nimport { Text } from \"./Text\";\r\n\r\nconst body = document.querySelector<HTMLBodyElement>(\"body\");\r\nconst canvas = document.querySelector<HTMLCanvasElement>(\"canvas\");\r\nconst ctx = canvas && canvas.getContext(\"2d\");\r\nconst imgInput = document.querySelector<HTMLInputElement>(\"#img-input\");\r\nconst image = document.querySelector<HTMLImageElement>(\"#canvas-img\");\r\nconst addTextBtn = document.querySelector<HTMLButtonElement>(\"#add_text_btn\");\r\nconst addStickerBtn = document.querySelector<HTMLButtonElement>(\r\n  \"#add_sticker_btn\"\r\n);\r\nconst addFilterBtn = document.querySelector<HTMLButtonElement>(\r\n  \"#add_filter_btn\"\r\n);\r\n\r\nconst topTextInput = document.querySelector<HTMLInputElement>(\r\n  \"#top_text_input\"\r\n);\r\n\r\nclass Canvas<T extends HTMLCanvasElement> {\r\n  width: number = 500;\r\n  height: number = 500;\r\n  constructor(\r\n    public canvas: T,\r\n    public Stickers: Stickers,\r\n    public Filters: Filters,\r\n    public PaintBrush: PaintBrush,\r\n    public Text: Text\r\n  ) {}\r\n\r\n  setupCanvas = (): void => {\r\n    this.canvas.width = this.width;\r\n    this.canvas.height = this.height;\r\n  };\r\n\r\n  uploadImg = (): void => {\r\n    const img: HTMLImageElement = new Image();\r\n\r\n    if (imgInput && imgInput.files) {\r\n      img.src = URL.createObjectURL(imgInput.files[0]);\r\n      img.onload = () => {\r\n        ctx && ctx.drawImage(img, 0, 0, this.width, this.height);\r\n      };\r\n    }\r\n  };\r\n\r\n  addListeners = (): void => {\r\n    const saveImageBtn = document.querySelector<HTMLButtonElement>(\r\n      \"#download_img_btn\"\r\n    );\r\n\r\n    const goBackBtn = document.querySelector<HTMLAnchorElement>(\".go_back\");\r\n\r\n    const downloadScreen = document.querySelector<HTMLDivElement>(\r\n      \".download_image\"\r\n    );\r\n\r\n    if (downloadScreen && goBackBtn && saveImageBtn) {\r\n      saveImageBtn.addEventListener(\"click\", () => {\r\n        downloadScreen.style.display = \"flex\";\r\n        this.saveImage();\r\n      });\r\n\r\n      goBackBtn.addEventListener(\"click\", () => {\r\n        downloadScreen.style.display = \"none\";\r\n      });\r\n    }\r\n  };\r\n\r\n  saveImage = (): void => {\r\n    const downloadScreen = document.querySelector<HTMLDivElement>(\r\n      \".download_image\"\r\n    );\r\n\r\n    const pixels =\r\n      ctx && ctx.getImageData(0, 0, this.canvas.width, this.canvas.height);\r\n    const saveCanvas: HTMLCanvasElement | null = document.querySelector(\r\n      \".save_canvas\"\r\n    );\r\n\r\n    if (saveCanvas) {\r\n      saveCanvas.width = 500;\r\n      saveCanvas.height = 500;\r\n      saveCanvas.classList.add(\"save_canvas\");\r\n\r\n      const saveCtx = saveCanvas && saveCanvas.getContext(\"2d\");\r\n      if (saveCtx && pixels) {\r\n        saveCtx.putImageData(pixels, 0, 0);\r\n      }\r\n      downloadScreen &&\r\n        downloadScreen.insertBefore(saveCanvas, downloadScreen.childNodes[2]);\r\n\r\n      const link = document.createElement(\"a\");\r\n\r\n      link.innerHTML = \"Download image\";\r\n\r\n      const { left, top } = saveCanvas.getBoundingClientRect();\r\n\r\n      const addedStickers = this.Stickers.addedStickers;\r\n      const addedTexts = this.Text.addedText;\r\n\r\n      if (saveCtx && addedStickers.length > 0) {\r\n        for (let i = 0; i < addedStickers.length; i++) {\r\n          const logoSvg = new Image();\r\n          logoSvg.src = addedStickers[i].src;\r\n          logoSvg.onload = () => {\r\n            addedStickers[i].x !== undefined &&\r\n              addedStickers[i].y !== undefined &&\r\n              saveCtx.drawImage(\r\n                logoSvg,\r\n                addedStickers[i].x,\r\n                addedStickers[i].y,\r\n                addedStickers[i].width,\r\n                Math.floor(addedStickers[i].height)\r\n              );\r\n          };\r\n        }\r\n      }\r\n\r\n      if (saveCtx && addedTexts.length > 0) {\r\n        for (let i = 0; i < addedTexts.length; i++) {\r\n          saveCtx.font = `${addedTexts[i].size}px Arial`;\r\n\r\n          saveCtx.fillStyle = `${addedTexts[i].color}`;\r\n          saveCtx.fillText(\r\n            addedTexts[i].text,\r\n            addedTexts[i].x,\r\n            addedTexts[i].y\r\n          );\r\n        }\r\n      }\r\n      const prevLink = document.querySelector(\".download_image_link\");\r\n\r\n      if (prevLink) {\r\n        prevLink.remove();\r\n      }\r\n\r\n      link.className = \"download_image_link\";\r\n      link.addEventListener(\r\n        \"click\",\r\n        ev => {\r\n          link.href = saveCanvas.toDataURL();\r\n          link.download = `FilterMatic${new Date().toISOString()}.png`;\r\n          link.remove();\r\n        },\r\n        false\r\n      );\r\n      downloadScreen && downloadScreen.appendChild(link);\r\n    }\r\n  };\r\n}\r\n\r\nif (canvas && imgInput && addTextBtn && addStickerBtn && addFilterBtn && ctx) {\r\n  const NewCanvas = new Canvas<HTMLCanvasElement>(\r\n    canvas,\r\n    new Stickers(stickers, stickers[0], ctx, canvas),\r\n    new Filters(filters, filters[0], ctx),\r\n    new PaintBrush(canvas, ctx),\r\n    new Text(canvas, ctx)\r\n  );\r\n\r\n  const toolMenu = new ToolMenu();\r\n\r\n  NewCanvas.Text.addListeners();\r\n  NewCanvas.setupCanvas();\r\n  NewCanvas.Stickers.setupStickerMenu();\r\n  NewCanvas.Filters.setupFilterMenu();\r\n  NewCanvas.PaintBrush.addListeners();\r\n  NewCanvas.addListeners();\r\n  toolMenu.addListeners();\r\n\r\n  imgInput.addEventListener(\"change\", NewCanvas.uploadImg);\r\n\r\n  addStickerBtn.addEventListener(\"click\", () => {\r\n    NewCanvas.Stickers.addSticker();\r\n  });\r\n  addFilterBtn.addEventListener(\"click\", () => {\r\n    NewCanvas.Filters.addFilter();\r\n  });\r\n}\r\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}