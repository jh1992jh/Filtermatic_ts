{"version":3,"sources":["src/helpers/randomId.ts","src/stickers/index.ts","src/Stickers.ts","src/Filters.ts","src/filters/filters.ts","src/PaintBrush.ts","src/ToolMenu.ts","src/Text.ts","src/index.ts"],"names":[],"mappings":";;;;;AIOa,OAAA,CAAA,OAAA,GAAqB,CAChC;ADNF,AEIA,AENA,ADAA,AFSI,AJTS,AQAb,EJSI,EDPJ,AEIA,AENA,ADAA,AEAA,GJSS,AJTI,CAAA,CISF,CJTE,CGEb,CGFA,CNAkB,CKMlB,AENA,ACAA,GDAA,ACAA,GJQE,IGRF,ACAA,CDAA,APAkB,AQAlB,YAAA,CAAA,ODAA,CAAA;AJEA,AEIA,ACNA,AFUI,AJTF,EISE,CAAC,EAAE,CAFL,GJNE,MACA,IAAI,CAAC,MAAL,GACG,QADH,CACY,EADZ,EAEG,MAFH,CAEU,CAFV,EAEa,CAFb,CAFF;AGCF,AEIA,AEcA,ADpBA,AFWI,AJJH,AQND,CRDa,CIWT,CAAC,CGSL,ACnBA,CJUO,CAAC,CAHN,CGYF,GCnBA,CLCA,AEIA,ACNA,EECA,OAAA,CAAA,kBAAA,CAAA;ALEE,AEYA,AEKF,ADpBA,AFYI,EAAA,CAAC,EAAE,MDTL,AEYA,ACfF,OHGE,CACS,AGJX,EDeE,CAAmB,ACfrB,IHGE,EAES,AEUT,EAAqD,GAArD,EAA6D,OFZ7D,EAGS,GAHT,EAGiB;AAHjB,AEYA,AEKF,ADpBA,AFQE,AINF,CJKkC,EAOhC,CIZF,ILCE,AEYA,ACfF,ICoBA,CJjBE,AEYA,ACfF,AEEA,GLCE,AEYA,ACfF,AEEA,ILCE,AEYA,ACfF,GEEA,CAAA,WAAA,CAAA;AD8BE,AHjBE,EAAA,KAAK,EAAE,EGiBT,IAAA,CAAmB,MAAnB,EAAqD,GAArD,EAA6D,AHlB7D;ADVS,AEWU,AEiBnB,AD/BA,AFeE,AIbJ,APHA,EGgBI,CAAC,CIbL,APHA,CGgBO,CAFL,EGkBA,CJ5BS,AEWU,ACdnB,IC+BA,AC7BF,EHYqB,CFXV,AI4BT,AC7BF,EHYqB,AJfrB,CEIW,CI4BT,CD/BA,ALDF,EOGA,CHYqB,ACdW,AEEhC,ELCW,EGHT,QLDF,CAAA,MOGA,CAAA,APHA,CAAA,gBAAA,CAAA,CAAA;AEKW,AEU4C,ACbrD,AFeE,EAAA,CAAC,EAAE,CAAC,EAHN,CDTS,AEU4C,ACbrD,GDaqD,GAAA,GAAA,ACbrD,GAAsC,EHG7B,GAAA,GGHqC,CAAC,UHGtC,GGH6B,CAEpC,aAFoC,CAAtC;AHIS,AECT,AEyBmB,AD3BnB,AFaE,AIdJ,APHA,EGiBI,CAAC,CIdL,APHA,CGiBO,IDZI,AECT,AEyBmB,AD3BnB,GHCS,GAAA,AI0BU,CC5BrB,CHGE,ACFA,CHCS,AI0BU,AN/BrB,COGA,CHGsB,ACFiB,CLJvC,GM+BqB,CFzBnB,CGHF,CAAA,CFC+C,CAAC,OLJhD,CAAA,IOGA,CFCuC,AEDvC,CFGI,CLNJ,CAAA,UKIuC,CAArC,KLJF,CAAA,CAAA;AIOE,AEwBqD,ADxBrD,AFMA,CAPgC,EAahC,MCZA,AEwBqD,ADxBrD,GCwBqD,GAAA,GAAA,CFxBrD,GAAqB,ACArB,CDAA,ECAuC,QAAQ,CAAC,aAAT,CACrC,kBADqC,CAAvC;AHCA,AEAA,AEYA,ADVA,AFUE,AIhBJ,APHA,EGmBI,EIhBJ,APHA,GGmBS,EDZP,AEAA,AEYA,ADVA,AFUS,KIhBX,GAAA,CDgBE,ANnBF,CIOE,EEYqB,ADVrB,ALTF,CIOuB,CEYrB,CJZA,AGEsC,AENxC,CAAA,ELIoB,ACWlB,ICXA,CCE8C,CAAC,GLTjD,COGA,APHA,COGA,CLIoB,KFPpB,CAAA,CKSwC,CACpC,cLVJ,CAAA,CAAA,CKSwC,CAAtC;AHDE,AEAF,AEYA,AHAE,EAAA,CAAC,EAAE,CAFL,GCVA,AEYA,CJZQ,IAAI,GAAG,CIYf,GAAwC,GFZxC,CFAuB,CAAC,CEAI,EEYoB,CAAC,KFZb,CAAC,GFAtB,CAAoC,GIYX,CAEtC,QFd0B,CAA0B,CFAvC,CAAb,EIYsC,CAAxC,OFZ4B,CAA5B;AACA,AEcA,ADVA,AFQE,AIjBJ,APHA,EGoBI,CAAC,CIjBL,APHA,CGoBO,EAHL,ECTA,AEcA,ADVA,CETF,GAAA,EPHA,GAAA,CMsBE,CFdA,AGLF,CFSE,AETF,CDmByC,CFdA,CCIxB,KETjB,CDmBiD,ACnBjD,CHKiD,AEcC,CFdA,CJRlD,CAAA,EKYiB,KLZjB,CAAA,EMsByC,CFdA,AEgBrC,CFdA,SJVJ,CAAA,CAAA,CIQyC,CAAvC,CEcuC,CAAvC;AJbE,AIgBF,ADZE,AFQA,EAAA,CAAC,EAAE,CERH,AFQI,GGIN,CJhBM,CGIA,CAAC,EHJL,EAAU,CIgBZ,GAAoB,CDZlB,ICYF,ADXI,KAAI,CAAC,SAAL,CAAe,gBAAf,CAAgC,OAAhC,EAAyC,UAAC,CAAD,EAAS;AHJlD,AEIJ,AEYA,ADXM,AFEN,AIZF,APJA,CGGkC,EAmBhC,CIlBI,APJN,IESM,AKLI,CHSR,AEYA,ECrBW,ELKH,CAAC,CGKH,ALdR,EMyBE,CNzBF,COIqB,CDqBA,ADXT,AEVU,CLKhB,AEIJ,ACCW,CHLM,AIgBjB,EFZe,KFJX,CAAqB,GKLd,APJb,COIqD,APJrD,CKcQ,CDDS,ACCW,CAApB,CAAA,EHLoB,AKLf,CAAb,APJA,CAAA,IES2B,EAAgB,OFT3C,CAAA,CAAA;AEUQ,AEIJ,AEYF,ADZ4B,AFS1B,AIlBJ,EJkBI,EIlBE,GFQA,AFUG,CEXL,CCcF,AHHS,CDbH,AEIE,AGTE,GAAG,CLKH,CAAC,GIgBX,GFZmB,AEYC,AHJpB,AIjBqB,CAAC,ELKhB,AEIgB,IFJE,EIgBxB,GFZQ,EGTK,CAA0C,QHSjC,AGTT,CHSU,AGTzB,CHSwB,EAAS,qCFFvB,MAAM,CAAC,KAFS,GAEJ,8BAFI,IAGW,MAAM,CAAC,CAAP,GAAW,GAHtB,IAGyB,IAHzB,IAG8B,MAAM,CAAC,CAAP,GAC9C,GAJgB,IAIb,IAJa,IAIR,MAAM,CAAC,CAAP,GAAW,GAJH,IAIM,kCAJN,GAKJ,MAAM,CAAC,KALH,GAKQ,KALR,GAKa,MAAM,CAAC,KALpB,GAKyB,mCAL3C;AAQD,AEHD,AHnBN,AIqBI,AFOA,AIlBJ,APLA,EGuBI,CAAC,CF5BL,AMUM,APLN,CGuBO,CEPH,CFKF,AIhBO,ELGH,CKHM,CFWJ,CAAC,EJrBT,ADKA,EIcc,AGTI,CHSH,AHnBf,ADKA,CIcgB,ECEZ,AEXkB,EHShB,EHnBN,AIsBM,CJtBN,CMU4B,CAAC,EFYnB,CAAC,ELjBX,CAAA,IOKsB,CFYhB,AEZkC,CFYpB,CLjBpB,CAAA,COKsB,CAAtB,ENVA,CAAA,ODKA,CAAA,CKiBM,ALjBN,CKiBqC,OAA/B,EAAwC,UAAC,CAAD,EAAS;AHClD,AEHG,AEcN,ADXM,AFMJ,AIlBJ,EJkBI,CAAC,CIlBC,CJkBC,EAHL,CEHM,CCWN,GCvBY,CFYF,CAAC,CDHA,AGTI,MDuBf,ECvBuB,CDuBR,ACvBS,EHSlB,ECGA,CAAoB,CAApB,MCWS,CCvBA,CAAyC,YAAzC,CAAjB;AHUU,AHpBV,AKkCI,ADXG,AFMH,AIlBJ,APNA,EGwBI,CAAC,CF7BL,AMWM,APNN,CGwBO,EERD,CADF,CETO,CDuBH,CLlCR,CGoBU,AGTI,ENXd,CKkCY,CAAC,AN7Bb,CIec,CAAC,CJff,COMsB,CNXtB,AMWuB,CNXvB,IGoBU,AEcN,EAAqB,CFdC,IAAhB,CGTI,APNd,COMuD,APNvD,KCLA,CAAA,CDKA,CAAA,KOMc,CAAd,QPNA,CAAA,CAAA;AEmBI,AEHM,AEcJ,ADVF,AFAF,AIbF,CJNkC,EAyBhC,CInBI,IDuBA,EJXI,AGCA,GCUA,CAAC,ACvBK,GAAG,EFaA,GHDG,AGCA,ECUhB,CJXmB,AIWH,ACvBK,CAAC,IFaE,CAAC,EHDE,CAAC,KKZf,CAA0C,CDuBvD,CAAiC,KDVjB,CAA0B,CCU1C,CJXmB,CAA0B,AIWH,ICvB7B,CAAnB,ODuBgD,EJXvB,AGCH,CHDlB,AGCA;AHCA,ADdJ,AKuBsD,ADRlD,AFKA,AInBJ,APPA,EG0BI,EFpBJ,AMCM,APPN,EEoBI,AGCA,CFKK,EAAE,GFpBX,GIea,CAAC,AFIZ,CGIoD,ACtBnC,CLaH,AFpBhB,CEoBiB,CKbK,CPPtB,CM6B0D,CAAC,ADRvD,CAAkB,EHDlB,CAAqB,CKbK,CAAC,CDsBuB,EAAA,EDRhC,ELrBtB,CEoByB,AFpBzB,GKqBsB,EAAM,AEdN,CLaG,AKZvB,CPRF,CEoB+B,AFpB/B,gBOOsB,APPtB,COOA,APPA,CAAA;AEqBM,AELE,AHVR,AKuBoE,ADP9D,AFKF,AIjBJ,EJiBI,CAAC,CIjBC,CJiBC,CAFL,EEHI,CCOA,KDPM,CHDC,AELA,ACMA,CEZK,GAAG,ELWF,CAAC,EELZ,GGNqB,CAAC,GFYxB,CACE,MHFK,CAAwB,AGC/B,EAEE,AEda,CACnB,ILUW,EAAiC,GGGrC,CAAD,EAAO,IHHgC,CAAD,AKXzB,CAArB,CLWuD;AAC/C,AELE,AHXV,AKwBK,ADNe,AFIhB,AIdJ,APbA,EG2BI,CAAC,CIdC,APbN,CG2BO,CAAC,EAHN,ICRQ,AHXV,IMQkB,APblB,CEqBQ,AELM,ACOO,CDPN,ACOO,CAAC,AEVF,APbrB,GEqBY,CAAC,EGEQ,CDPX,ACOoB,CEVD,CAAC,CHGJ,KAAhB,AJhBV,CEqBQ,AFrBR,CEqB0B,CAAlB,CAAA,CGEa,CAAuB,CEVvB,CACnB,APdF,CAAA,EKuBqB,CAA6B,OAA7B,GAAuC,CLvB5D,CAAA,COaqB,APbrB,COaA,EFUoB,AENpB;ALI4B,AEJlB,AHLR,AIWiE,AFK/D,EAAA,CAAC,EAAE,CAAC,GDRK,AGCP,CHDA,CDRJ,QAAA,CACS,QADT,EAES,eAFT,EAGS,GAHT,EAIS,MAJT,EAIkC;ACO/B,ADXH,AKmBE,ADNC,AFDH,AILF,APlBA,CGFkC,EA+BhC,CIXF,APlBA,GEkBI,AGCA,CJRF,EKmBQ,ACZV,GNPE,ADXF,GCWE,ADXF,ICWE,CKmBmB,GAAG,ON9BxB,CAAA,CM8BU,MN9BV,CAAA,IM8BwB,CAAC,CAAD,EAAS,GN9BjC,CAAA,CAAA;AEuBG,AENK,AEcF,ADNH,AFKC,AIZJ,EJYI,GD9BF,AGMA,EFwBO,EAAE,MCbE,CEcC,AHFZ,CGEa,CAAC,IAAV,IFdE;AACE,AHNC,AKoBH,AHDJ,AIbJ,APjBA,EG8BI,CAAC,CH9BL,CG8BO,CAAC,EAFN,CFjBS,GGMD,AGAV,CPjBA,EM+Ba,CN/Bb,CIiBc,AHNH,CGMI,EHNJ,EKoBH,IFdE,EHNC,EGMgB,CJjB3B,CAAA,GIiB+B,CAAC,GJjBhC,CAAA,IIiB2B,CAA2B,CAA3B,CAAjB,IJjBV,CAAA,CAAA;AEwBE,AENQ,AHNC,AKoBD,ADNR,AFKE,AIXF,EJWE,CAAC,EAAE,CAHL,GDJA,ADZS,AIcT,EENA,CDYQ,KCZR,CACS,CDWM,CAAC,CJRhB,EIQQ,ADNR,CHFe,ADZN,AKoBW,ACZpB,EFMiB,AEHR,CNXA,OCYO,AKJhB,CLIe,CGEG,AEFT,CLAe,AGEP,EAAO,GJdf,CMQT,EDYyC,ACPhC,CDOiC,CAAC,MAAnC,ECZR,EAMS,IANT,EAMmB;ALDjB,ADZO,AKoBD,ADNN,AFKA,AIZF,APnBF,EG+BI,CAAC,CH/BL,CG+BO,CAAC,EIZN,CNPS,CCYD,AGGJ,CAAC,CJfI,AIeH,CERN,ENPS,CMOT,CPnBF,CCYW,AIeL,EERJ,APnBF,CEwBqB,CGIf,CAAC,CHJkB,AGIjB,CHJkB,CAAC,IGIrB,CAAS,CHJU,CAAyB,AGI5C,EHJF,AFxBJ,CAAA,EK4BsB,KL5BtB,CAAA,MK2BM,IAEA,KAAI,AL7BV,CK6BW,AL7BX,CAAA,YK2BM,IAGA,KAAI,CAAC,YAJP,EAKE;ADbE,AHLG,AImBL,AFLJ,CA/BgC,EAqChC,KEDI,CJnBK,IImBD,CAAC,CDdE,AHLF,GAAA,MAAA,EImBL,CDdE,ACcgB,KAAlB,CAAwB,OAAxB,GAAkC,MAAlC;AHNF,AEPM,AHhBR,AK+BM,ADDF,AFCF,AIdO,APnBX,EGiCI,EHjCJ,GGiCS,CEDH,CJ9BJ,AE+BS,AIdA,CLMD,EEPA,CCcA,CAAC,ALhCX,CMiCa,ACdF,CLMK,CEPF,AJlBd,CIkBe,AGCJ,CLMQ,ECOjB,CF9BA,ECuBqB,AKNZ,CLMa,ADvBM,CGgBpB,AEeF,CL/BN,AI8BI,CAAmB,CDdC,GFOP,AFzBnB,CEyBgC,AGO1B,ALhCN,CIkBU,ACcqB,KHPZ,CACb,AF1BN,CKgCM,ALhCN,GKgCyC,MHNlC,AGMD,GLhCN,CAAA,CAAA,CE0BM,EAAgB;AAAK,AEPjB,AHhBR,AK+BQ,ADDL,AFCD,AIbO,EJaP,CAAC,EAAE,CAAC,CETJ,CFOF,CF7BA,AMkBS,GDaD,CDDC,EHPgB,EDvBzB,AK+BY,ADAR,AEbK,CDaI,ADAR,CAAC,CJ/Bc,AMkBX,CLKsB,CAAC,GDvBhC,AI+BI,CCAI,ADAK,CHRY,CGQrB,AEbK,CDae,GJRkB,CIQlC,ADAY,UHRK,CGQrB,IACA,KAAI,CAAC,aADL,IAEA,KAAI,CAAC,YAHA,EAIL;AHXiD,AEnBjD,AHHJ,AK+BQ,ADGJ,AFHF,AIbO,APrBX,EGkCI,CAAC,CHlCL,CGkCO,EDVY,ACOjB,CDPE,AGaE,CJlCJ,AMkBS,GDaD,CDGA,CAAC,EEhBA,GDaM,ACbN,CDaO,CL/BhB,ADHF,EMkCU,CL/BiB,AK+BL,ANlCtB,EOqBW,CFgBL,CAAmB,CJlCO,AK+BN,CAAC,GDGrB,CAAyB,ICHrB,CNlCV,CAAA,CKqCM,GJlCJ,AIkCuC,GLrCzC,CAAA,EKqCM,iBLrCN,CAAA,CAAA;AIoBK,AHhBH,AK+BQ,ADGJ,AFHF,AIbO,EJaP,CAAC,EAAE,CAAC,CC9BJ,CCiCE,CJlCJ,AMkBS,IFgBD,CAAC,IJlCT,CMkBS,ENlBY,CMkBZ,INlBT,AIkCI,CAAkB,KAAlB,AEhBK,CFgBmB,OAAxB,GAAkC,MAAlC;AHVF,ADvBF,AIkCG,AFRH,AIRS,APtBX,CGPkC,EA2ChC,CHpCF,EE2BI,CGIO,EJ3BT,AMkBS,ELKH,CAAC,CGWE,AEhBA,GAAA,CFgBI,CAAC,ALtChB,CKsCiB,CEhBN,CPtBX,GCIE,CIkCa,CHXX,AGWoB,CJlCM,ECuBJ,GDvBS,GCuBH,AGWjB,CHXkB,AF3BjC,CE2BgC,AF3BhC,CE2BI,EGWkC,ILtCtC,CAAA,ECIE,AIkCS,EAAoC,YLtC/C,CAAA,CAAA;AE4BG,AEPC,AEcI,ADIF,AFFF,AIvBF,EJuBE,GDjBF,ECiBO,CEEH,CFFK,AIvBT,KAAA,CDqBW,ADIA,AFHX,CEGY,CEzBI,EFyBZ,CAAY,AEzBhB,CFyBiB,CAAC,ECJZ,IDIU,CAAS,aAArB,KDlBuC,KAAzC,CAA+C,GAA/C,EAAoD,GAApD,CAAwD,UAAA,IAAA,EAAI;AAC1D,AHTJ,AKuBQ,ADIL,AFFD,AIvBF,APdF,EGqCI,CAAC,CHrCL,CGqCO,EAFL,CCdI,CHTJ,AMEA,GDqBQ,GFdG,AGPX,CHOY,AJrBd,CMmCc,CAAC,ACrBI,CHOb,AJrBN,CIqBkB,CHThB,AMEA,GNFe,EKuBP,GAAgB,KAAhB,ANnCV,CAAA,CCYiB,KGSsB,CJrBvC,CAAA,EIqBkB,GAA4B,SJrB9C,CAAA,CAAA,CIqBM;AFQJ,ADhBE,AI2BD,AFFC,EAAA,CAAC,EEjBH,AFiBK,EAHL,EDNA,CDhBQ,QCgBR,GAAY,ADhBO,GAAG,SCgBV,ADhBJ,WAAc,CAAC,CAAD,EAAO;ACiB3B,AERE,AHRA,AKsBI,ADKT,AFFG,AIfF,APvBF,EGsCI,CAAC,CHtCL,CGsCO,GCjBD,CGEJ,CLMM,EIME,CFdA,CAAC,AJrBX,EE6Bc,ADhBA,CAAC,AKsBD,ANnCd,CCagB,AKsBD,CJNE,CERX,AGEJ,CHFgB,CHRZ,CMUU,CLMK,CAAC,GAAL,CAAS,GF7B1B,CMmCU,ANnCV,CMmC4C,CAAlC,ACZM,EHFV,AEc0C,CFdb,AEcc,CAAC,CNnClD,CE6BiB,AF7BjB,CE6BuC,AERjC,CFQW,CERwB,CFQC,AIMM,CJN/B,AIMoD,EJNxB,AIMnC,GJNO,EAAiC,AF7BlD,CAAA,CIqBM,AJrBN,CE6BiB,CAAb,AERkD,KAAhD;AACD,AHRG,AEoBN,AIVE,CJjC8B,EAiDhC,GIhBE,CHLA,MGKO,CAAC,CNVC,EMUT,CAAY,INVR,CMUY,CAAC,MAAjB;ALOM,ADhBA,AKqBA,ADIV,AFCI,AIhBA,APxBJ,EGwCI,EHxCJ,EOwBI,CJgBK,EEDT,AFCW,CDVD,CKNF,CLME,ADhBA,AMUD,GLMC,EDhBI,AIyBd,CJzBe,AMUX,CJeF,AIfc,CLMN,CAAA,CF9BV,EOwBI,CPxBJ,EOwBwB,KAAI,CAAC,ELMnB,GKNN,ENVM,ADdV,CCcsC,ADdtC,CCcU,MDdV,CAAA,oBAAA,CAAA,CAAA,EAEA;AE4BU,AEPN,ACxCJ,AF0DI,AIhBA,CF1CJ,CF0DI,CE1DJ,AF0DK,EAAE,CAAC,AIhBJ,EJcF,EDTU,AEPJ,CFOI,AKLJ,CAAC,ELKG,CEPA,CFOA,AEPC,CFOD,CAAF,AKLN,CAAY,MAAZ,GAAqB,GHFrB,EAA0B,AGED,CAAC,MAA1B;ALKM,AENJ,AHTI,AKqBF,AHMJ,AIhBA,EJgBA,CAAC,EAAE,CAHL,AIbE,EHFE,EFMS,CAAA,EENL,AGEC,CLII,AENJ,AGEC,CDUC,CJNE,CAAA,AKJX,CLIM,AKJM,GAAZ,MDUI,EFZF,CAAqB,OAArB,CAA6B,UAAC,MAAD,EAAa;AFMtC,AELF,AEYE,ADtDG,AF4DT,AIhBD,APvBU,EGuCT,CAAC,EAAE,AIrBL,EFvCW,ALqBA,CKrBA,ALqBA,EE0BK,AELV,CFKU,CIOR,EJPQ,EAAA,AELJ,AC1CD,ALqBA,CE0BK,AELH,AEYD,CJPJ,AIOK,CDtDF,ALqBW,CACtB,MMgCQ,CDtDG,ECsDa,IFZlB,CAAwB,AEYtB,OFZF,EAAiC,UAAC,CAAD,EAAS;AACxC,AHVF,AEuBN,AHjCA,CGhBgC,EAuDhC,YF7BW,CGUC,CAAC,CAAC,MAAN,CHVF,CGUgB;AFMpB,AELQ,AHVF,AKqBA,AHQN,AIjBF,APtBE,EGuCA,AHvCA,KGuCK,AHvCA,EGuCE,AIjBT,APtBS,EEyBF,CDfC,AKqBA,EFXE,CFKC,ACaX,CDbY,CIMA,CAAC,ACTb,CLGe,AELD,AHVC,ADXf,CE0BE,AELa,AHVC,CMYJ,CLGM,CAAC,ADfX,CAAY,ECeE,MAAM,CAAC,AIMrB,ACTI,CDS8B,CAAlC,CFXE,CFKY,AEJV,AEUkC,CJNZ,AIMa,CAAC,CLrBxC,ICeN,CEJkB,AEU0B,CJNJ,AEJpB,AEU6C,CJNxB,AEJpB,CAAC,AEUhB,GJNuC,CAA7C,EAAgD,AEJ5B,CAA0B,WAA5B,CADV;AFMN,AEHK,ADiBP,AIjBA,APtBA,EGuCA,AHvCA,CGuCC,EAAE,AHvCA,CGuCC,CHvCC,CEyBH,ACYJ,EIfQ,GAAG,CLGD,CAAC,CKHqB,GLG5B,CAAY,AKHoB,CLGnB,AFzBV,CAAA,EEyBa,CAAhB,AKH4B,EAA9B,ELGuB,AF3BzB,ME2B+B,CAAC,IAAP,CAAY,CAAC,GAAG,CAAhB,IAAqB,CAA1C,CAD8C,CACD;AEF1C,AHbC,AKqBA,AHSN,AHvCA,EGuCA,AHvCA,CGuCC,EAAE,CAHL,EHpCQ,EAAE,CIgBJ,CHPE,ADZR,KCYY,CAAC,aAAL,CAAmB,CAAnB;ACgBJ,AEFC,ADiBH,AIjBA,APtBA,EGuCA,AHvCA,CGuCC,EAAE,CAAC,CHvCC,CEwBH,CEVA,AJdK,COsBH,CP1BN,GE4BU,CAAC,GKFG,CLEV,CAAY,CAAC,CKFC,ELEE,CAAhB,IAAqB,CKFC,CAAC,ILEI,CAAC,AKF9B,EAAgC,ELET,CAAY,CAAC,GAAG,CAAhB,IAAqB,CAA1C,CAF8C,CAED;AED9C,AHdK,AKqBF,AHKN,AIZI,APtBF,CGrB8B,CHqB9B,CGwCF,CHxCI,EAAE,EOsBF,GAAG,CAAC,GDOG,ACPP,EP3BJ,CO2Bc,GAAG,CAAC,IDOZ,WCPQ,CAAoB,QAAQ,CAAC,KAAT,CAAe,CAAf,CAApB,CAAV;ALEA,AIMI,AHWN,AHxCA,EGwCA,AHxCA,CAAC,EAAE,CANL,CG8CO,CDjBH,CCiBK,KDjBC,CAAC,CIMC,GJNR,ACgBJ,CDhBgB,CAAC,AIMD,CAAC,EJNG,CAAhB,IAAqB,CIMjB,EAAmB,GJNI,CAAC,IAAP,CAAY,CAAC,GAAG,CAAhB,IAAqB,CAA1C,CAH8C,CAGD;AAC9C,AEDD,AHfI,AKsBI,AHWR,AInBE,APrBF,EGwCA,AHxCA,CGwCC,AHxCA,EGwCE,AHxCA,EGsCL,CIjBI,EHCE,CGDC,CAAC,EDQE,CFPA,AHfC,CGeA,EGDP,CDQU,CAAC,CCRE,KNdX,CGeJ,CEOQ,CFPc,AEOa,CAA3B,GCRO;AHEb,AHfI,AEiCN,AInBI,AP7BN,CAFsB,CGkDpB,CAAC,AHvCH,EGuCK,CAAC,EClBF,ADeJ,EIhBM,ENdE,CGeA,AGDC,CHCA,GHfG,AMcC,CNdA,EMcG,CAAC,IHCb,CAAiB,GHfb,CAAiB,AMcZ,CNdL,AMcmB,ENfrB,CAEE,AMaK,EAAmB,CAAnB,EAAsB,CAAtB,EHCT,AGDkC,CHCA,IGDI,CAAC,GHCvC,EAA4C,AGDnC,EAAqC,KAAI,CAAC,EHCN,CAAD,EAAS,CGD5C,CAAP;ALGJ,AEDI,AEMI,AHYR,AInBG,APpBH,EGuCA,AHvCA,CGuCC,EAAE,CDjBH,CFtBK,EOkBH,APlBK,CIqBH,CFCA,CAAC,EIKG,CJLR,AEDQ,CFCC,AEDA,GEMG,AN5Bd,CM4Be,QJLb,CAAsB,GEDlB,CAAuB,CAAC,CFC5B,AED6B,AEMrB,CAAkC,CJLZ,AIKtB,CJLR,CIK8C,CJLb,AIKc,CJL/C,AED2B,AEMqB,CFNS,KAArD,AEM0C,CAAqB,EAA3D;AJJT,AEDI,AEMI,AHOT,AIdG,APpBD,CG3B8B,CH2B9B,CGwCF,ED9BA,AFVK,EAAE,EImBH,YJnBG,CAAA,OAFP;AEzBI,AEiDD,AHhBK,AEmCN,AIpBD,APpBC,EGwCA,AHxCA,GOWF,EJ6BO,CHxCC,CGwCC,CHxCC,EAHV,QG0CA;ACjBC,AEKO,AHcN,AInBF,APrBE,EGwCA,AHxCA,CGwCC,EC3DH,AD2DK,CAAC,CHxCC,EGsCP,AHtCS,EAJT;AEyBF,ADhBQ,AEoCJ,AHxCA,EGwCA,AHxCA,CGwCC,CHxCC,CGwCC,CHxCC,CGqCN,EDjBF,MDhBa,CCgBb,CFzBE,SCSM;ACvCR,AEyDE,AHjBQ,AKqBF,AHeJ,AHxCA,CEpCJ,CC4EI,AHxCA,CEpCJ,AC4EK,AHxCA,EGwCE,AHxCA,CANL,GI2BA,GHjBQ,GKqBG,EFJX,AHjBY,CAAC,EGiBF,KEIL,CLrBE,GAAgB,CGiBZ,CAAD,EAAc,AHjBjB;AGkBN,AHjBM,AKqBA,AHUR,AHnCE,CGhC8B,CAArB,AHgCT,CAAC,EAAE,KIqBG,EHjBA,AKqBA,IFJM,CEIF,CAAC,CFJI,AHjBF,CGiBG,AHjBF,CGiBG,EHjBX,CAAY,IGiBlB,AEIM,CLrBgB,AKqBC,CLrBA,AKqBC,CAAC,MAAF,CAAqB,EAAtC,GLrBA;ACzCG,AE2DT,AJ7BF,CAXsB,EAoBtB,IEvCW,CAAA,EE2DH,KF3DG,CE2DG,EF3DH,CE2DM,CAAC,CAAC,IF3DR,GE2DT;AACA,AHlBM,AKqBA,ANvBN,EAAA,IIoBA,CJpBK,EAAE,EIoBH,CAAC,AHlBC,GGkBN,CAAS,CHlBC,CAAC,CDHb,QIqBE,GAAuB,KAAI,CAAC,AHlBtB,CAAwB,CAAxB,EAA2B,CAAC,CAAC,IGkBnC,EHlBiC,CAAS,EAApC;AGmBN,AJpBA,EAAA,GAAG,CIoBH,CJpBK,IIoBD,CAAC,GAAL,CAAS,KJpBJ,CAAA,GIoBL,GAAqB,CJtBvB,IIsB2B,CAAC,UAA1B;AACA,AHnBM,AKqBF,ANtBJ,EAAA,IIoBA,EJpBM,EAAE,CIoBJ,CAAC,AJvBP,GIuBE,CAAS,QAAT,GAAoB,OAApB;AACA,AEEM,ANtBN,EAAA,IIoBA,CJpBK,EAAE,EIoBH,AJxBN,CIwBO,GAAL,CAAS,OAAT,GAAmB,OAAnB;AHnBI,AKNF,ANMF,EAAA,EAAE,EAAE,SCAK,EDLX,OCKM;AGoBJ,AHnBM,AKsBL,ANtBD,EAAA,CAAC,EAAE,CImBH,AJzBF,CMFE,IF2BI,CAAC,AHnBC,GGmBN,CAAS,CHnBC,CAAC,OGmBX,CHnBM,GAAgB,KAAhB;AACA,AMmBR,APnBE,EAAA,CAAC,EAAE,IOmBL,ONnBc,EAAE,GAAW,AMmB3B,CNnB4B,CAAC,CMmBd,KNnBY,CAAS,EAA5B,IMmBO;AHAP,AEIN,ACHA,AP3BF,CApBsB,EA6BtB,OIiBQ,AEIA,ACHA,EHDA,GAAA,KAAA,AEIU,CFJV,CGCY,CDGC,ECHE,EHDf,CAAA,GEIqB,CAAC,CCHC,CAAC,aAAT,CDGF,ACFjB,CHFI,AEIuC,EFJvC,WEIa,CAAnB,ICHqB,CAArB;AHDM,AHlBA,AKwBN,ACDA,APrBF,MMsBE,IFNQ,AGKF,ENvBA,EGkBE,EEME,CFNF,AHlBE,AKwBC,CLxBA,CGkBH,AGKO,CHLP,EGKU,EHLZ,AEMN,CAAmB,KCDO,CAAC,IDCP,CLxBd,CAAwB,CAAxB,CKwBa,CLxBc,CKwBH,CLxBxB,EMuBY,CAA0C,UAA1C,CAAlB;AHLM,AEOJ,ACAF,APtBA,EAAA,KAAK,EAAE,CIeO,AGOR,GHPQ,GAAA,CJhBhB,CIgBgB,CAAA,GAAR,EGOc,GAAG,QAAQ,CAAC,aAAT,CACrB,cDAG,GCDkB,CAAvB,CDAE,CACS,GADT,EAEG,GAFH,CAEO,UAAA,IAAA,EAAI;AL1BP,AK2BA,ANxBN,EAAA,GAAG,EAAE,GMwBC,EL3BA,EK2BI,CAAC,IL3BE,ADGR,CCHS,ADGT,GCHC,CAAY,CAAC,CAAC,CDCtB,IM0BQ,CL3BY,AK2BU,CL3BD,EAArB,CK2BA,EAA4B,WAA5B,EAAyC,KAAzC;AFTN,AHjBM,AK2BD,ACAL,APxBA,EAAA,IIcA,EJdM,CMoBJ,CCIE,APxBI,CIcJ,CAAC,AJjBP,GIiBE,CAAS,MAAT,CAAgB,CGUE,IAAI,CHVA,GAAG,IAAzB,CGUI,CHV2B,GGUI,GHVE,GAAG,GAAxC,GGUA,EAAiD;ADChD,ACAC,APxBF,EAAA,KMkBA,ANlBK,COwBH,CPxBK,GAJT,QO4BgB,CAAC,gBAAb,CAA8B,OAA9B,EAAuC,YAAA;AHVzC,AHjBI,AK6BJ,ACDI,APxBJ,EAAA,EAAE,EIaF,AJbI,IMyBE,ACDF,CHXA,CAAC,GAAL,AHjBS,ADDX,CIkBW,MAAT,CAAgB,CGWE,CAAC,EN5Bf,CK6BoB,CFZF,CGWlB,CDCuB,ACDF,CHXA,IAAzB,EAA+B,AGW3B,CDC+B,CAAC,CCDD,GHXE,GAAG,AGWpC,GHXJ,MEY2B,CAA0B,YAA1B,CAA3B;AL5BM,AK8BN,AN1BA,EAAA,CAAC,EAAE,CM0BH,ANhCF,MCEQ,KAAI,CAAC,MK8BO,CAAC,CL9Bb,GAAgB,GK8BtB,CAA2B,CL9BrB,SK8BsB,MAAD,EAAa;AFZxC,AEaE,ACHE,APvBJ,EAAA,CAAC,EAAE,CIaH,EEaE,ECHE,CHVA,CAAC,EEaG,CFbR,AEaS,ACHD,CHVC,AGUA,MHVT,GGUI,MDGF,CAAwB,OAAxB,EAAiC,UAAC,CAAD,EAAO;AFZ3C,AHlBK,AK+BA,ACHD,AP/BL,CA9BsB,EAuCtB,EIDA,IGoBI,QDME,KAAI,CAAC,cAAL,CAAoB,QAAQ,CAAC,CAAC,CAAC,MAAF,CAAS,WAAV,CAA5B,CAAA;AL9BE,AK8BiD,ACDrD,APvBF,EAAA,KAAK,COuBH,CDAA,ANvBK,GCND,EDKR,GOwBa,CAAC,CN7BC,CAAC,GAAR,CAAY,CAAC,CAAC,IAAd,IM6BJ,CAA2B,OAA3B,EAAoC,YAAA;AHVxC,AH7CI,AK0DD,ACFG,APvBJ,EAAA,GAAG,EMqBH,ANrBK,EIYP,CGWM,MPvBC,CAAA,OOuBa,APzBpB,CIcA,AGWqB,GHXF,EGWb,CAAqB,OHXP,AGWd,GAA+B,EHXlB,EAAc,EGW3B;AHVJ,AHlBC,AKgCD,ACHG,APvBH,EAAA,IIYA,CH/CA,CDmCM,COqBJ,CDKI,AN1BE,CIYJ,CAAC,AJfP,SM6BmB,CFdjB,EEcoB,CFdF,KAAlB,EEc4B,CAAC,aAAT,CAClB,mBADkB,CAApB;AFbD,AEiBC,ACNC,APvBD,EAAA,GIUF,CEmBE,CN7BK,EAAE,GAJT,KMiCa,IACT,WAAW,CAAC,gBAAZ,CAA6B,QAA7B,EAAuC,UAAC,CAAD,EAAO;ALpChD,AKqCI,ACPL,APvBC,EAAA,EAAE,COEJ,CPFM,EM8BA,ELrCE,EDER,CMmCU,CAAC,SLrCU,GAAG,GKqClB,CAAqB,CAAC,CAAC,ELrCG,CAAC,GKqCN,CAAS,KAA9B,OLrCkB,CAA0B,UAA1B,CAAtB;AGoBF,AHlBE,AKoCG,AN9BH,EAAA,CAAC,EAAE,CCNH,ADAF,CMkCI,CADF,CFfF,UHlBe,CAAC,KGkBhB,EHlBE,CGkBiB,AHlBK,UGkBJ,AHlBK,KGkBN,EAAc,AHlBT,EAAiB;AGmBvC,AHlBE,AKoCH,ACPD,APvBE,EAAA,CAAC,EMjCH,ANiCK,CIYH,GGWF,EHXM,CAAC,MGWP,GAAY,CHXV,GAAkB,KAAlB,GGWU,0CN5BL,KADH,CACS,GADT,EAEG,GAFH,CAEO,UAAA,IAAA,EAAI;AGiBd,AHhBO,AM2BN,AP/BF,CAvCsB,EAgDtB,EISA,KHdQ,OAAO,CAAC,gBAAR,CAAyB,IAAzB,EAA+B,WAA/B,EAA4C,KAA5C;AGjDyD,AHkD1D,AKkCP,ACPE,APtBA,EAAA,KAAK,ECTH,AKsCJ,AN7BS,COsBD,IPvBR,EM8BA,GAAU,KCPY,GAAG,IDOf,ICPuB,CAAC,aAAT,CACrB,iBADqB,CAAvB;AN1BC,AKkCD,ACJA,APzBA,EAAA,GAAG,ECXH,ADWK,GM6BD,ACJE,KDIE,CAAC,ACJG,APzBP,CAAA,EO0BH,GAAG,EP5BP,CM+BE,CCHS,CDGW,ECHR,CAAC,YAAJ,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,KAAI,CAAC,MAAL,CAAY,KAAnC,EAA0C,KAAI,CAAC,MAAL,CAAY,MAAtD,CADT;AHfJ,AHdG,AKkCG,ACHF,AP1BA,EAAA,GC7CF,GD6CQ,CISV,CGiBU,AP1BE,EM6BF,ANhCR,KMgCY,CAAC,CFpBf,CGiBoB,GAA6B,IDGvC,CAAe,GCHgC,CAAC,CDGhD,KAAyB,EAA7B,EAAiC,GCHU,CAC3C,cAD2C,CAA7C;AH5FJ,AEgGM,AN7BF,CInEJ,CJmEI,CInEJ,IJmES,EAAE,GM6BC,ANjCV,IMiCc,GAAG,QAAQ,CAAC,aAAT,CAAwC,MAAxC,CAAb;ALlCJ,AKmCI,ACDF,AP5BA,EAAA,EAAE,EAAE,GCNN,CMkCM,EDCI,ANlCV,OMkCiB,CCDf,ENlCF,AKmCoB,ACDF,GNlCF,CKmCQ,IAAI,IAAI,CLnCf,AKmCgB,CLnCjB,EAAS,QKmCG,GAAmB,CAA3C;AFjGO,AH+DT,AKmCE,ACDA,AP5BF,EAAA,CAAC,EAAE,CANL,CI/DW,CAAA,AGiGP,IDCM,MFlGC,AGiGG,CDCG,ACDF,EHjGJ,CEkGS,ECDhB,EDCoB,CCDD,GDCK,ACDxB,CHjGO,GEkGqB,CAAC,YAAL,GAAoB,CAA5C;ALlCF,AMkCE,AP5BF,EAAA,CAAC,EAAE,GO4BD,ENlCI,OAAO,CMkCD,CAAC,CNlCG,KMkCd,ENlCc,CAAA,AMkCM,GAApB,KNlCc,CAAiB,MAAjB,CACd,UAAC,OAAD,EAAkB;AAAK,AKmCvB,ACDA,APpCJ,CAhDsB,EAyDtB,KO2BI,IDCI,GLnCmB,GMkCb,CDCC,ACDA,GNlCmB,CAAC,AKmChB,KLnCQ,AMkCvB,CAAqB,CDCrB,EAAwB,ACDxB,CNlC0C,AMkCjB,CNlCkB,CAAC,MAAF,CAAqB,EAAxC,EMkCvB;ANlCiE,AKoC/D,ACAF,AP5BF,EAAA,KCTgB,ADSX,CCTL,CDSO,GO4BC,EDAE,IN7BZ,GM6BmB,ACAF,GDAY,ACAT,UAAU,IAAI,UAAU,CAAC,UAAX,CAAsB,IAAtB,CAA9B;ANjCF,AKkCM,AN5BN,EAAA,GAAG,CCNH,CDMK,ICND,CAAC,AKkCC,IAAI,EAAE,EN5BP,CAAA,EM4BW,CAAC,GLlCjB,CDIF,ECJyB,GKkCX,CAAe,GLlCG,CAAC,CAAD,AKiCH,CLjC3B;AACD,AKkCO,ACDJ,AP3BF,EAAA,GCbF,GDaQ,EAAE,EM4BF,ACDA,AP9BR,EM+BU,EAAE,KCDG,IAAI,CDCP,CAAA,EAAA,EAFiB,ACCzB,EAAuB;ADEnB,ACDF,AP3BJ,EAAA,KAAK,EAAE,CO2BH,EDCE,ANhCR,CMgCS,EAAE,ICDE,CAAC,EDFe,UCEvB,CAAqB,MAArB,EAA6B,CAA7B,EAAgC,CAAhC;ANhCN,AKkCQ,ACDH,AP3BH,EAAA,EAAE,EAAE,GCNN,GKkCQ,CAAC,EAAE,CNjCX,ICDA,EK8B6B,CL9Bf,UAAC,CAAD,EAAc;AAC1B,AKkCM,AN5BN,EAAA,CAAC,EAAE,CANL,ICAQ,EKkCA,ILlCM,GAAG,AKkCF,CLlCG,CAAC,AKkCF,CALY,ML7B3B;AACA,AKkCM,ACFJ,AP1BF,EAAA,CAAC,EAAE,GO0BD,ENhCI,EKkCA,ILlCM,GAAG,AKkCF,CLlCG,CAAC,AKkCF,CANY,ACIX,IACZ,ENjCJ,YMiCkB,CAAC,YAAf,CAA4B,UAA5B,EAAwC,cAAc,CAAC,UAAf,CAA0B,CAA1B,CAAxC,CADF;AN/BF,AKkCM,ACAJ,APpCJ,CAzDsB,EAkEtB,OCPQ,EKkCA,ACAE,KNlCK,AKkCF,CCAC,CDAC,CLlCG,CAAC,AMkCF,CNlCG,EKkCD,CAAC,GLlClB,CMkCuB,CAAC,IDPG,SCOZ,CAAuB,GAAvB,CAAb,CAZc,CAad;ADAI,ACCJ,AP5BF,EAAA,KAAK,EAAE,GM2BD,GN5BR,CM4BY,EAAE,KAAI,CAAC;ALjCjB,AKyB2B,ACUzB,AP5BF,EAAA,GAAG,EAAE,GCPD,CKyBA,MLzBO,ADON,CAAA,GCPU,IDKjB,CCLqB,CAAC,QAApB,EAA8B;AAC5B,AKmCE,AN5BJ,EAAA,MCPE,ADOI,EAAE,EAHV,EM+BY,CLnCD,CAAC,KAAR,CAAc,GAAd,CKmCoB,ELnCG,CKmCA,KLnCM,GAAG,AKmCD,CAAC,MLnCO,CAAC,MAAR,AKmCT,CAAuB,ELnCG,CAA1B,EKmCA,CLnC2B,AKmChD,ILnCF;AACA,AKoCE,ACFF,AP3BF,EAAA,KAAK,CCPH,AMkCA,CP3BK,CM6BH,CNjCN,GO+BQ,CNlCG,AMkCF,CNlCG,KAAR,CAAc,AKoCA,CAAC,CCFf,ENlCA,CMkCiB,ENlCO,GKoCtB,CAAuB,ELpCK,CKoC5B,CAA2B,CLpCI,KMkCjC,CAhBc,CNlB0B,AMmCxC,CNnCyC,GKoCvC,ELpC+B,GAAgB,CAAzB,GAA0B,IAAlD;AACD,AKqCG,AN9BJ,EAAA,EAAE,EAAE,IM8BA,GNnCN,SMmCkB,CAAC,EAAb,GAAkB,OAAO,CAAC,EAA1B;ALpCL,AKqCK,ACFI,AP5BR,EAAA,CAAC,EChBH,ADgBK,CANL,IMoCM,ECFI,EAAA,GAAA,KDEQ,CAAC,ICFT,CDEJ,ACFI,CDEe,IAAnB,GAA6B,OAAO,CAAC,CAAR,GAAS,CCFlC,EAAA,CDEJ;AACA,ACHI,AP3BR,EAAA,CAAC,EAAE,KM8BC,ECHM,IAAA,GAAA,EAAA,CDGM,ACHN,CDGO,GCHT,EDGJ,CAAmB,GAAnB,GAA4B,OAAO,CAAC,CAAR,GAAS,IAArC;ALpCN,AKqCM,ACJI,APlCV,CAlEsB,EA2EtB,MCRA,CKqCM,ECJY,GAAA,GAAA,EAAA,CAAA,CDIA,CAAC,CCJT,CNjCV,GAAmB,AKqCb,CAAmB,KAAnB,GAA2B,GLrCd,IKqCqB,CAAC,KAAnC;ALpCJ,AKqCI,AN7BJ,EAAA,KAAK,EAAE,CCRD,AKqCF,ILrCM,GAAG,KKqCG,AN9BlB,CM8BmB,ELrCI,CAAC,EKqClB,CAAmB,QAAnB,ELrCS,CAAoC,AKqCZ,OAAO,CAAC,IAAR,GLrCxB,AKqCoC,CLrCjD,GKqCI;AACA,ACLF,APxBF,EAAA,GAAG,EAAE,COwBH,EDKE,KCLK,CAAC,GAAR,CAAY,EDKE,CAAC,CN7BZ,CAAA,MOwBoB,CP1B3B,EM+BM,CCLF,EDK6B,ACLA,ODKO,CAAC,ECLE,EDKrC,CCLF;AN/BF,AKqCI,ACLF,APxBF,EAAA,MAAM,ECRF,AKqCA,AN7BI,EOwBA,AP3BV,ECLE,EAAU,MKqCM,CAAC,ICLI,GAAG,EDKpB,GAAyB,ACLD,CAAC,IDKzB,ICLoB,CAAc,aAApC;AN/BA,AKsCE,ACNF,APxBF,EAAA,KAAK,CCRH,CDQK,CM8BH,CNlCN,CO4BU,CNhCF,CAAC,AKsCC,IAAI,ILtCV,AKsCc,ACNE,CNhCF,AKsCC,ECNI,KNhCnB,AMgCuB,CNhCD,AMgCE,GDMd,CAAiB,ACNR,CAAU,KNhCN,IMgCvB,CAtBc,CD4BJ,ACLV,CNjCsB,AKsCpB,ELtCsC;AACtC,AKsCA,ACLF,APzBF,EAAA,EAAE,EAAE,ICRA,IAAI,AKsCE,CLtCD,KDGX,ICHM,AKsCgB,GAA0B,CLtCxB,OKsCgC,CAAC,aAAT,CACxC,MAAI,OAAO,CAAC,EAD4B,CAA1C,uBLrC8C,OAAO,CAAC,KADpC,GACyC,gCADzC,GAEA,OAAO,CAAC,GAFR,GAEW,UAFX,GAEoB,OAAO,CAAC,KAF5B,GAEiC,sCAFnD;AAKD,AKoCC,ANhCJ,EAAA,CAAC,EAAE,CANL,GCJI,CK0CE,OAA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CCVc,AKsCA,GLtCG,AKsCA,CLtCC,AKsCA,CLtCC,AKsCA,ACAJ,IAAI,GNtCF,AKsCf,GLtC2B,IMsCA,CAAC,ENtCM,CAAC,GMsClB,GNtCU,AMsCU,CAAnC,ENtC0C,AMsCJ,CNtCxC;AACA,AKsCA,ACAI,AP3BJ,EAAA,GAAG,CCXH,CDWK,GM2BC,GLtCC,CAAC,AKsCE,CCAD,ENtCT,AKsCkB,AN3Bb,CCXO,AKsCO,AN3Bd,CM2Be,ACAP,CAAC,GAAG,CNtCjB,AMsCI,CDAJ,AN7BF,CO6BsB,CAAC,GAAG,UAAU,CAAC,MAA/B,EAAuC,CAAC,EAAxC,EAA4C;ADChD,ACAM,AP3BN,EAAA,IM2BA,EN3BM,EAAE,EAHV,CM8BS,CAAC,GAAR,CAAY,IAAI,CAAC,YAAjB,EAA+B,IAAI,CAAC,WAApC;ALrCA,ADWA,EAAA,KAAK,EAAE,CCXD,CDOR,UCPmB,GAAG,KAAI,CAAC,aAAL,CAAmB,GAAnB,CAClB,UAAC,OAAD,EAAkB;AAChB,AKoCJ,AN1BA,EAAA,EAAE,EAAE,IM0BA,ELpCI,CDKV,CM+BU,IAAI,CLpCG,CAAC,EAAR,CKoCQ,CAAC,GLpCM,EAAnB,EAAuB,CKoC3B,EAA2B;ALnCrB,AKoCJ,AN1BF,EAAA,CAAC,EAAE,CANL,EMgCI,ELpCI,EKoCA,CAAC,ILpCM,CAAC,AKoCZ,CLpCI,AKoCO,GLpCK,CKoChB,GAAqB,ELpCC,GAAG,CKoCE,GLpCvB,AKoC0B,IAAI,CAAC,WAAL,GAAmB,CAA5B,GAA6B,IAAlD;ALnCI,AKoCJ,AN1BF,EAAA,CAAC,EAAE,GM0BD,ELpCI,EKoCA,CAAC,ILpCM,CAAC,AKoCZ,CLpCI,AKoCO,GLpCK,AKoChB,GAAoB,GLpCE,GAAG,AKoCC,GLpCtB,AKoCyB,IAAI,CAAC,YAAL,GAAoB,CAA7B,GAA8B,IAAlD;ALnCG,AKoCJ,ANlCH,CAtGsB,EA+GtB;AM0BC,ANzBC,EAAA,GMgBF,ENhBO,EAAE,cADT;ACVM,ADYJ,EAAA,GAAG,EAAE,QCZM,OAAP,GDYC,CAAA,OAFP;ACTK,AKqCL,ANzBE,EAAA,KCnBoB,CAApB,ADmBM,CMyBR,CNzBU,EAHV,YM4BA,GAAkB,UAAC,CAAD,EAAiB,EAAjB,EAA2B;AACrC,ANzBN,EAAA,KAAK,EAAE,CMyBD,CN7BR,CM6BQ,GAAA,KAAA,CAAA,MAAA,CAAA,qBAAA,EAAA;ALnCN,AKmCM,ANxBN,EAAA,EAAE,ECXF,ADWI,IMwBI,CLnCJ,CAAC,EKmCG,GAAA,EAAA,CAAA,CN7BV,GM6BQ,CLnCN,GAAqB,WAArB;AACD,AKkCO,ACIA,AP3BN,EAAA,CAAC,EC9BH,AD8BK,CANL,IM6BgB,ECIR,CDJQ,GAAA,EAAA,CAAA,ACID,CAAC,EDJR,CCIA,CACE,SAAO,CAAC,WAAR,CAAoB,UAAU,CAAC,CAAD,CAAV,CAAc,IAAlC,CADF,EAEE,UAAU,CAAC,CAAD,CAAV,CAAc,IAFhB;AAIA,AP9BN,EAAA,CAAC,EAAE,OO8BG,SAAO,CAAC,IAAR,GAAkB,UAAU,CAAC,CAAD,CAAV,CAAc,IAAd,GAAkB,UAApC;ANxCR,AKkCE,ACQM,APvCR,CA/GsB,EAwHtB,MCZA,CKkCQ,ECQA,ON1CR,EKkCmB,ACQJ,CN1CF,AM0CG,EDRM,CAAC,CAAC,KCQhB,CDRN,ELlCW,AM0Ce,KAAG,UAAU,CAAC,CAAD,CAAV,CAAc,KAArC;ANzCN,AKkCA,ACQM,AP9BR,UCZQ,AKkCA,ECQA,IDRM,GAAG,CLlCC,AKkCA,CAAC,ACQJ,CAAC,CN1CK,KKkCJ,ECQT,CN1CqB,AKkCA,ACSnB,CN3CoB,SM2CV,CDToB,ACSnB,CDToB,ACSrB,CAAV,CN3CW,AM2CG,CN3CoB,GM0CpC,EN1Ca,AM4CX,CN5CR,EKkC2B,GAA0B,CAAtC,GAA0C,ACUvC,CDVwC,ACUvC,CDVwC,ACUzC,CAAV,CAAc,CAFhB,EAGE,EDXiD,GAAY,CAArE,ICWkB,CAAC,CAAD,CAAV,CAAc,CAHhB;ANzCN,AKkCA,ACYM,APlCN,EAAA,KAAK,EAAE,CCZD,AKkCA,ECYA,IDZM,ANvBd,GMuBiB,ACYF,CDZG,ACYF,CDZG,ECYX,CN9Cc,AM8CF,GN9CK,CKkCR,GAAY,GCYrB,CN9CyB,CAAC,AMqBgB,CA0B1C,KDbgC,CAAC,MLlChB,CAAuB,KAAvB,AKkCI,CLlC3B,EKkCsD,CAAvC,GAA2C,CAAC,CAAC,OAAF,GAAY,CAAtE;ALjCA,AKmCA,ANvBA,EAAA,GAAG,CCZH,AKmCA,CNvBK,MMuBE,CAAC,GAAR,CACE,ANxBG,CAAA,CCZS,CAAC,KDUjB,ICVE,EKqCI,CLrCuB,AKqCtB,CAAC,OADJ,GACW,MLrCb,yBKoCE,GAEgC,WAAW,CAAC,YAAZ,GAC9B,CAHF,GAGG,eAHH,GAGmB,CAAC,CAAC,OAJvB;ALlCA,AKyCA,ACKM,APlCN,EAAA,ICZA,AKyCA,EN7BM,EAAE,EOkCF,APrCR,CMgCS,CAAC,ELzCE,CAAC,AKyCX,CAAY,CCKC,CN9Cb,AM8Cc,GN9CG,AM8CX,CACK,IN/CU,CAAC,AKyCC,CAAC,ICMH,CAAC,CAAD,CAAV,CAAc,EDNb,ECMD,CDN0B,CLzCpB,CAAqB,AM+CT,EDN7B,CLzCA,CKyC2C,GCMhC,GAA0B,KDNiB,CAAC,ICMR,CAAC,CAAD,CAAV,CAAc,CDNR,ACMhC,GDNwD,ACMf,GDNpD,ICMW,GACD,UAAU,CAAC,CAAD,CAAV,CAAc,CADb,GACc,GAFnB;AN7CN,AMkDK,APtCL,EAAA,ICZA,CDYK,EAAE,EAJT,KCRY,CAAC,SAAX,GAAuB,SAAvB;AACA,AKyCA,ACSG,APtCH,EAAA,EAAE,ECZF,ADYI,IM6BE,INlCR,ECPY,CAAC,CKyCG,GAAG,CLzCjB,CAAiB,GKyCI,CAAC,ELzCtB,GAA6B,IKyCZ,CLzCgB,AKyCD,CLzCE,EKyCjB,CACf,UAAC,EL1C0B,CAAqB,CK0ChD,EAAY,GL1Ce,GAA2B,IAAxD;AACA,AK0CI,AN9BJ,EAAA,CAAC,EAAE,CCZH,ADMF,MMoCU,EAAE,EL1CA,CAAC,EK0CI,GL1Cf,CAAiB,AK0CE,CAAC,EAAhB,EL1CJ,AK0CwB,GL1CI,KAAI,CAAC,eAAL,CAAqB,KAArB,GAA0B,IAAtD;AACA,AK0CM,ACOJ,APrCF,EAAA,CAAC,EAAE,CCZH,IK0CM,ECOE,EDPE,CAAC,CL1CD,AK0CJ,CL1CK,EK0CI,CCOC,GAAG,GNjDnB,GAAuB,CK0CG,CAAC,ACOA,CAAC,ENjD5B,OK0Ce,GAAyB,CCOrB,CAAuB,EDPpC,oBCOa,CAAjB;ANhDF,AK0CM,ANtCR,CAzHsB,EAkItB,OCbQ,AK0CA,EL1CE,EK0CE,CL1CC,AK0CA,CAAL,GAAS,ML1CM,CAAC,EAAX,EK0Ce,CL1CC,AK0CA,KL1CI,CAAC,GK0CjB,GAAwB,GAAxB,GAA8B,GL1ClB,CAAqB,EAArC,GAA0C,EK0CG,CAAC,OL1CJ,CAAA,EAAA,EAArD,AK0CM;ALzCN,AK0CK,ACOH,APpCF,EAAA,ICbA,CDaK,EAAE,GOoCD,IPrCR,ICZgB,AMiDZ,CNjDa,CMiDC,CNjDhB,GAAoB,UAAU,CAAC,EAAX,GAAgB,EAApC;AACA,AMiDI,APpCJ,EAAA,GAAG,EAAE,GCbC,AMiDF,INjDM,GAAG,CMiDD,APpCP,COoCQ,APpCR,MCbgB,AMiDjB,CNjDkB,ADWxB,aCXe,CAAwC,MAAxC,CAAb;AACA,AKyCI,ACQD,APpCH,EAAA,ICbA,EDaM,ECbF,ADaI,EAHV,ECVU,CKyCG,GLzCC,CAAC,AKyCT,WLzCI,CAAiB,UAAjB,CAAR;AK0CG,AN5BH,EAAA,KMqBiB,ANrBZ,CMqBL,CNrBO,IAJT;ACRE,AMiDE,APpCF,EAAA,EAAE,ECbF,ADaI,EOoCF,GNjDE,CAAC,EMiDC,APzCR,COyCS,SNjDP,AMiDE,GAAiB,qBAAjB;ADPF,ACQE,APpCF,EAAA,CAAC,EAAE,CM4BH,ANlCF,EO0CI,GDRE,CAAC,ECQC,CAAC,MDRP,GAAiB,OCQf,CDRF,ACSI,OADF,EAEE,UAAA,EAAA,EAAE;ANlDA,AKyCN,ACUM,APtCN,EAAA,CAAC,EAAE,CM4BH,ILzCM,AMmDA,ENnDA,CKyCC,CAAC,CLzCF,CMmDI,CDVV,ACUW,CDVC,ELzCN,CAAA,AMmDA,EDVU,CAAC,ACUC,GNnDZ,CAAA,KKyCN,CCU4B,CAAC,SAAX,EAAZ,GNnDA,EAAA;AAAA,AK0CP,ACUO,AP9CR,CAlIsB,EA2ItB,EMAA,KLfU,AMoDF,INpDE,EMoDE,CNpDF,AMoDG,ENpDH,CAAA,IAAF,CMoDA,GAAgB,gBAAc,IAAI,IAAJ,GAAW,WAAX,EAAd,GAAsC,MAAtD;ANpDA,AMqDA,APrCN,EAAA,KAAK,EAAE,CChBO,AMqDR,GNrDQ,EDehB,CCfgB,AMqDJ,CAAC,CNrDG,CAAA,GAAR,CMqDA;ADTR,ACUO,APrCL,EAAA,GAAG,EAAE,EM2BP,ACII,EAOE,KAPF,CP/BG,CAAA,CM2BP,GAAa,GN7Bb,OM6Bc,EAAD,EAAW;AL1CtB,AK2CA,ACYE,APvCF,EAAA,MOuCE,APvCI,EChBA,AK2CA,AN3BE,EAHV,UM8BoB,ACYF,GDZK,CCYD,INvDM,AK2CD,CAAC,EL1CxB,KAAI,CAAC,CK0Cc,ACYa,CDZE,ACYD,INtDjC,CAAY,CK0CO,CAAsB,IL1CzC,AMsDkB,CAA2B,ENtDxB,CAArB,EK0C0C,CL1CjB,AMsDP,CAAlB,EDZyC,EL1CZ,AK0CwB,CL1CvB,eAAL,CAAqB,MAArB,GAA8B,CADzD;AAEA,AK0CE,ACYD,APvCD,EAAA,KAAK,EAAE,CCfD,CDWR,IM+BW,IAAI,CAAC,EAAL,KAAY,EAAnB,CL1CwB,GACxB,KAAI,CAAC,MAAL,CAAY,KAAZ,GAAoB,CAApB,GAAwB,KAAI,CAAC,eAAL,CAAqB,KAArB,GAA6B,CADvD;AAGA,AKwCC,ACYF,APvCC,EAAA,EAAE,CO3EJ,CN8DE,ADaI,CMyBiB,CAArB,KLtCO,ADQT,CCRU,GAAR,CAAY,oBAAoB,GAAG,GAAnC;AACA,AMpHE,APiIF,EAAA,CAAC,EAAE,CCbH,ADOF,UCPY,CAAC,KAAX,CAAiB,GAAjB,GAA0B,oBAAoB,GAAG,GAAvB,GAA0B,IAApD;AACA,AKwCA,AN3BA,EAAA,CAAC,EAAE,CCbH,AKwCA,KAAI,CAAC,ILxCK,CAAC,IKwCX,CLxCA,CAAiB,CKwCA,GLxCjB,GAA2B,IAAI,EKwC/B,CLxCkC,oBAAP,GAA2B,IAAtD;AACA,AKyCA,ACSJ,AP7CE,CA3IsB,EAoJtB,GCdE,GMkDJ,CDTU,GLzCC,CAAC,AKyCE,CCSd,ENlDI,AKyCa,CLzCD,OKyCS,CAAC,ELzCA,CAAC,KAAX,CAAiB,GAAjB,CKyCC,CAAuC,CLzCjB,KAAvB,AKyC4C,EAA3C,CLzC8B,AKyC3C,ULzCqD,CAAC,KAAX,CAAiB,IAA5D;AK0CA,AC1KJ,AP+II,CO/IJ,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","file":"src.f10117fe.js","sourceRoot":"..","sourcesContent":["export const ID = (): string => {\r\n  return (\r\n    \"_\" +\r\n    Math.random()\r\n      .toString(36)\r\n      .substr(2, 9)\r\n  );\r\n};\r\n","import glasses1 from \"./glasses1.png\";\r\nimport glasses2 from \"./glasses2.png\";\r\nimport glasses3 from \"./glasses3.png\";\r\nimport grin1 from \"./grin1.png\";\r\nimport tear1 from \"./tear1.svg\";\r\nimport sad1 from \"./sad1.svg\";\r\nimport smirk1 from \"./smirk1.png\";\r\nimport unibrow1 from \"./unibrow1.svg\";\r\nimport teehee from \"./teehee.png\";\r\nimport lol from \"./lol.png\";\r\nimport zzz from \"./zzz.png\";\r\nimport awesome from \"./awesome.png\";\r\nimport cool from \"./cool.png\";\r\nimport exclamation from \"./exclamation.png\";\r\nimport question from \"./question.png\";\r\nimport dollar from \"./dollar.png\";\r\nimport euro from \"./euro.png\";\r\nimport britishPound from \"./britishPound.png\";\r\n\r\n// NOTE ALL THE STICKERS HAVE TO BE 50x20 size\r\n\r\nexport const stickers = [\r\n  // HEADWEAR STICKERS\r\n  {\r\n    title: \"glasses1\",\r\n    src: glasses1,\r\n    height: 20,\r\n    width: 50,\r\n    id: `glasses1_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"glasses2\",\r\n    src: glasses2,\r\n    height: 20,\r\n    width: 50,\r\n    id: `glasses2_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"glasses3\",\r\n    src: glasses3,\r\n    height: 20,\r\n    width: 50,\r\n    id: `glasses3_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  // TEXT STICKERS\r\n  {\r\n    title: \"teehee\",\r\n    src: teehee,\r\n    height: 40,\r\n    width: 100,\r\n    id: `teehee_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"lol\",\r\n    src: lol,\r\n    height: 40,\r\n    width: 100,\r\n    id: `lol_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"zzz\",\r\n    src: zzz,\r\n    height: 40,\r\n    width: 100,\r\n    id: `zzz_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"awesome\",\r\n    src: awesome,\r\n    height: 41,\r\n    width: 158,\r\n    id: `awesome_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"cool\",\r\n    src: cool,\r\n    height: 67,\r\n    width: 98,\r\n    id: `cool_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"exclamation\",\r\n    src: exclamation,\r\n    height: 67,\r\n    width: 15,\r\n    id: `exclamation_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"question\",\r\n    src: question,\r\n    height: 67,\r\n    width: 31,\r\n    id: `question_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"dollar\",\r\n    src: dollar,\r\n    height: 67,\r\n    width: 31,\r\n    id: `dollar_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"euro\",\r\n    src: euro,\r\n    height: 67,\r\n    width: 31,\r\n    id: `euro_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"britishPound\",\r\n    src: britishPound,\r\n    height: 67,\r\n    width: 31,\r\n    id: `britishPound_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  // EMOJI STICKERS\r\n  {\r\n    title: \"grin1\",\r\n    src: grin1,\r\n    height: 20,\r\n    width: 50,\r\n    id: `grin1_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"tear1\",\r\n    src: tear1,\r\n    height: 34,\r\n    width: 20.5,\r\n    id: `tear1_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"sad1\",\r\n    src: sad1,\r\n    height: 16,\r\n    width: 28,\r\n    id: `sad1_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"smirk1\",\r\n    src: smirk1,\r\n    height: 10,\r\n    width: 30,\r\n    id: `smirk1_`,\r\n    x: 0,\r\n    y: 0\r\n  },\r\n  {\r\n    title: \"unibrow1\",\r\n    src: unibrow1,\r\n    height: 9,\r\n    width: 48,\r\n    id: `unibrow1_`\r\n  }\r\n];\r\n","import { ID } from \"./helpers/randomId\";\r\nimport { stickers as originalStickers } from \"./stickers/index\";\r\n\r\ninterface ISticker {\r\n  title: string;\r\n  src: string;\r\n  height: number;\r\n  width: number;\r\n  id: string;\r\n  x?: any;\r\n  y?: any;\r\n}\r\n\r\nexport class Stickers {\r\n  addedStickers: ISticker[] = [];\r\n  dragging: boolean = false;\r\n  stickerMoved: ISticker = this.selectedSticker;\r\n  modifying: boolean = false;\r\n  modifiedSticker: ISticker = this.selectedSticker;\r\n\r\n  constructor(\r\n    public stickers: ISticker[],\r\n    public selectedSticker: ISticker,\r\n    public ctx: any,\r\n    public canvas: HTMLCanvasElement\r\n  ) {}\r\n\r\n  addListeners = () => {\r\n    const handleEvent = (e: any): void => {\r\n      switch (e.type) {\r\n        case \"click\":\r\n          this.selectModiefiedSticker(e);\r\n          break;\r\n        case \"dblclick\":\r\n          console.log(\"double clicked\");\r\n          this.deleteSticker(e);\r\n          break;\r\n        case \"mousemove\":\r\n          this.moveSticker(e);\r\n          //this.updateStickerCords(e, e.target.id);\r\n          break;\r\n        case \"mousedown\":\r\n          this.dragging = true;\r\n          console.log(this.addedStickers);\r\n          this.updateStickerCords(e, e.target.id);\r\n          break;\r\n        case \"mouseup\":\r\n          this.dragging = false;\r\n          const id: string = e.target.id;\r\n          this.updateStickerCords(e, id);\r\n          console.log(e.target.id);\r\n          break;\r\n        case \"mouseleave\":\r\n          this.dragging = false;\r\n        default:\r\n          console.log(e.type);\r\n      }\r\n    };\r\n    const stickersAdded = document.querySelectorAll(\".sticker\");\r\n\r\n    stickersAdded.forEach((sticker: Element) => {\r\n      \"click mouseenter mouseleave mousemove dblclick mousedown mouseup\"\r\n        .split(\" \")\r\n        .map(name => {\r\n          sticker.addEventListener(name, handleEvent, false);\r\n        });\r\n    });\r\n  };\r\n  selectSticker = (e: Event): void => {\r\n    //console.log(e.target.id);\r\n    const sticker = originalStickers.filter(\r\n      (sticker: ISticker) => sticker.title === (e.target as Element).id\r\n    );\r\n\r\n    this.selectedSticker = sticker[0];\r\n  };\r\n\r\n  moveSticker = (e: MouseEvent): void => {\r\n    const mouseX = e.clientX;\r\n    const mouseY = e.clientY;\r\n    const sticker = e.target as HTMLImageElement;\r\n\r\n    if (sticker && this.dragging) {\r\n      sticker.style.top = `${mouseY - sticker.height / 2}px`;\r\n      sticker.style.left = `${mouseX - sticker.width / 2}px`;\r\n    }\r\n  };\r\n\r\n  setupStickerMenu = (): void => {\r\n    const menu = document.querySelector<HTMLElement>(\".sticker_menu\");\r\n\r\n    if (menu) {\r\n      this.stickers.forEach((sticker: ISticker) => {\r\n        menu.innerHTML += `\r\n            <div class=\"menu_item menu_sticker\" id=\"${sticker.title}\">\r\n              <img src=\"${sticker.src}\" id=\"${sticker.title}\"/>\r\n            </div>\r\n          `;\r\n      });\r\n    }\r\n\r\n    const menuStickers = document.querySelectorAll(\".menu_sticker\");\r\n\r\n    menuStickers.forEach(sticker => {\r\n      sticker.addEventListener(\"click\", e => this.selectSticker(e));\r\n    });\r\n  };\r\n\r\n  updateStickerCords = (e: MouseEvent, id: string): void => {\r\n    const { left, top } = this.canvas.getBoundingClientRect();\r\n    const sticker = e.target as HTMLImageElement;\r\n    // REMEMBER OFFSET X= 0 , Y = 0, TOP LEFT CORNER\r\n    const mouseX = e.clientX - sticker.width / 2;\r\n    const mouseY = e.clientY - sticker.height / 2;\r\n    console.log(mouseX);\r\n\r\n    const newStickers = this.addedStickers.map(\r\n      (sticker: ISticker): ISticker => {\r\n        if (sticker.id === id) {\r\n          sticker.x = mouseX - left;\r\n          sticker.y = mouseY - top;\r\n        }\r\n        return sticker;\r\n      }\r\n    );\r\n\r\n    this.addedStickers = newStickers;\r\n  };\r\n\r\n  addSticker = (): void => {\r\n    const stickerImg = document.createElement(\"img\");\r\n    const stickerWrapper = document.createElement(\"div\");\r\n    stickerWrapper.className = \"sticker_wrapper\";\r\n    stickerImg.src = this.selectedSticker.src;\r\n    stickerImg.className = \"sticker\";\r\n    stickerImg.style.height = `${this.selectedSticker.height}px`;\r\n    stickerImg.style.width = `${this.selectedSticker.width}px`;\r\n    stickerImg.draggable = false;\r\n    const id = stickerImg.id + this.selectedSticker.id + ID();\r\n    stickerWrapper.id = stickerImg.id = id;\r\n    const body = document.querySelector<HTMLBodyElement>(\"body\");\r\n    body && body.appendChild(stickerImg);\r\n\r\n    this.addListeners();\r\n\r\n    const { left, top } = this.canvas.getBoundingClientRect();\r\n\r\n    const canvasStickerCenterY =\r\n      this.canvas.height / 2 - this.selectedSticker.height / 2;\r\n    const canvasStikcerCenterX =\r\n      this.canvas.width / 2 - this.selectedSticker.width / 2;\r\n\r\n    console.log(canvasStickerCenterY - top);\r\n    stickerImg.style.top = `${canvasStickerCenterY - top}px`;\r\n    stickerImg.style.left = `${left + canvasStikcerCenterX}px`;\r\n    console.log(stickerImg.style.top + \" , \" + stickerImg.style.left);\r\n    const newSticker = {\r\n      ...this.selectedSticker,\r\n      id: id,\r\n      x: canvasStikcerCenterX + left,\r\n      y: canvasStickerCenterY - top\r\n    };\r\n\r\n    this.addedStickers.push(newSticker);\r\n  };\r\n\r\n  deleteSticker = (e: MouseEvent): void => {\r\n    const id = (e.target as Element).id;\r\n    this.addedStickers = this.addedStickers.filter(\r\n      (sticker: ISticker) => sticker.id !== id\r\n    );\r\n    (e.target as Element).remove();\r\n  };\r\n\r\n  selectModiefiedSticker = (e: MouseEvent): void => {\r\n    // console.log(e, e.offsetX, e.offsetY); USE OFFSET PROPS TO TRY TO CALC STICKERS LOCATION TO PROPERLY PLACE IT\r\n    const targetSticker = this.addedStickers.filter((sticker: ISticker) => {\r\n      return sticker.id === (e.target as Element).id;\r\n    })[0];\r\n\r\n    if (targetSticker) {\r\n      const prevModifyModal = document.querySelector(\".sticker_modal\");\r\n      prevModifyModal && prevModifyModal.remove();\r\n\r\n      this.modifiedSticker = targetSticker;\r\n      const { title, id, x, y, height, width } = this.modifiedSticker;\r\n      this.modifying = true;\r\n\r\n      const { left, top } = this.canvas.getBoundingClientRect();\r\n      const modifyModal: any = document.createElement(\"div\");\r\n      const stickerImg = document.createElement(\"img\");\r\n      const infoList = document.createElement(\"ul\");\r\n      // Cant't loop trough the obj to get both value and key because ISticker has no property index type string, :(\r\n      const titleLi = document.createElement(\"li\");\r\n      titleLi.textContent = `title: ${title}`;\r\n      const idLi = document.createElement(\"li\");\r\n      idLi.textContent = `id: ${id}`;\r\n      const xLi = document.createElement(\"li\");\r\n      xLi.textContent = `x: ${this.modifiedSticker.x.toFixed(1)}`;\r\n      const yLi = document.createElement(\"li\");\r\n      yLi.textContent = `y: ${this.modifiedSticker.y.toFixed(1)}`;\r\n      const widthLi = document.createElement(\"li\");\r\n      widthLi.textContent = `width: ${width}`;\r\n      widthLi.id = \"sticker_width\";\r\n      const heightLi = document.createElement(\"li\");\r\n      heightLi.id = \"sticker_height\";\r\n      heightLi.textContent = `height: ${height}`;\r\n\r\n      const close = document.createElement(\"span\");\r\n      close.className = \"close_modal\";\r\n      close.textContent = \"X\";\r\n\r\n      const propArr = [titleLi, idLi, xLi, yLi, widthLi, heightLi];\r\n\r\n      propArr.forEach(prop => {\r\n        infoList.appendChild(prop);\r\n      });\r\n\r\n      const body = document.querySelector(\"body\");\r\n\r\n      modifyModal.className = \"sticker_modal\";\r\n      stickerImg.src = this.modifiedSticker.src;\r\n\r\n      const incBtn: any = document.createElement(\"button\");\r\n      const decBtn = document.createElement(\"button\");\r\n\r\n      incBtn.textContent = \"+\";\r\n      decBtn.textContent = \"-\";\r\n\r\n      incBtn.className = \"size_btn\";\r\n      decBtn.className = \"size_btn\";\r\n\r\n      modifyModal.appendChild(stickerImg);\r\n      modifyModal.appendChild(infoList);\r\n      modifyModal.appendChild(close);\r\n      modifyModal.appendChild(incBtn);\r\n      modifyModal.appendChild(decBtn);\r\n\r\n      modifyModal.style.top = `${this.modifiedSticker.y}px`;\r\n      modifyModal.style.left = `${this.modifiedSticker.x}px`;\r\n\r\n      body && body.appendChild(modifyModal);\r\n\r\n      const incBtnPos = modifyModal.height / 2 - incBtn.height / 2;\r\n\r\n      incBtn.style.top = `30%`;\r\n      incBtn.style.right = \"1em\";\r\n      decBtn.style.top = `60%`;\r\n      incBtn.style.right = \"1em\";\r\n\r\n      incBtn.addEventListener(\"click\", () => this.changeSize(\"inc\"));\r\n      decBtn.addEventListener(\"click\", () => this.changeSize(\"dec\"));\r\n      close.addEventListener(\"click\", () => modifyModal.remove());\r\n    }\r\n    console.log(targetSticker);\r\n  };\r\n\r\n  changeSize = (change: string): void => {\r\n    // ADD FUNCTIONALITY TO CHANGE THE HEIGHT AND WIDTH VALUES LIVE ON THE DOM\r\n    const stickerWidth = document.querySelector(\"#sticker_width\");\r\n    const stickerHeight = document.querySelector(\"#sticker_height\");\r\n\r\n    const sticker: HTMLImageElement | null = document.querySelector(\r\n      `#${this.modifiedSticker.id}`\r\n    );\r\n    if (change === \"inc\" && sticker && stickerWidth && stickerHeight) {\r\n      const width = this.modifiedSticker.width;\r\n      const height = this.modifiedSticker.height;\r\n      console.log(sticker.offsetWidth, width);\r\n      if (width > height) {\r\n        const ratio = width / height;\r\n        this.modifiedSticker.width += 3;\r\n        this.modifiedSticker.height += 3 * ratio;\r\n      }\r\n      //this.modifiedSticker.height += 3;\r\n      //this.modifiedSticker.width += 3;\r\n\r\n      stickerWidth.textContent = `width: ${width.toString()}`;\r\n      stickerHeight.textContent = `height: ${height.toFixed().toString()}`;\r\n\r\n      sticker.style.height = `${this.modifiedSticker.height}px`;\r\n      sticker.style.width = `${this.modifiedSticker.width}px`;\r\n      console.log(this.modifiedSticker, this.addedStickers);\r\n    }\r\n\r\n    if (change === \"dec\" && sticker && stickerWidth && stickerHeight) {\r\n      // COMPRE STICEKR HEIGHT && WIDTH CALC RATIO change according to bugger aka 10 / 5, height +2 width +1\r\n      this.modifiedSticker.height -= 3;\r\n      this.modifiedSticker.width -= 3;\r\n\r\n      const width = this.modifiedSticker.width.toString();\r\n      const height = this.modifiedSticker.height.toString();\r\n\r\n      stickerWidth.textContent = `width: ${width}`;\r\n      stickerHeight.textContent = `height: ${height}`;\r\n\r\n      sticker.style.height = `${this.modifiedSticker.height}px`;\r\n      sticker.style.width = `${this.modifiedSticker.width}px`;\r\n    }\r\n  };\r\n}\r\n","import { IFilter } from \"./filters/filters\";\r\n\r\nexport class Filters {\r\n  constructor(\r\n    public filters: IFilter[],\r\n    public selectedFilter: IFilter,\r\n    public ctx: any\r\n  ) {}\r\n\r\n  setupFilterMenu = (): void => {\r\n    const menu = document.querySelector<HTMLElement>(\".filter_menu\");\r\n\r\n    if (menu) {\r\n      this.filters.forEach((filter: IFilter) => {\r\n        menu.innerHTML += `\r\n        <div class=\"menu_item menu_filter\" id=\"${\r\n          filter.title\r\n        }\" style=\"background: rgba(${filter.r + 100}, ${filter.g +\r\n          100}, ${filter.b + 100}, 0.5)\">\r\n          <span id=\"${filter.title}\">${filter.title}</span>\r\n        </div>\r\n        `;\r\n      });\r\n    }\r\n\r\n    const menu_filters = document.querySelectorAll(\".menu_filter\");\r\n\r\n    menu_filters.forEach(filter => {\r\n      return filter.addEventListener(\"click\", (e: Event) =>\r\n        this.selectFilter(e)\r\n      );\r\n    });\r\n  };\r\n\r\n  selectFilter = (e: Event) => {\r\n    const filterTitle = (e.target as HTMLElement).id;\r\n\r\n    const filter = this.filters.filter(\r\n      (filter: IFilter) => filter.title === filterTitle\r\n    );\r\n\r\n    this.selectedFilter = filter[0];\r\n  };\r\n\r\n  addFilter = () => {\r\n    let pixels = this.ctx.getImageData(0, 0, 500, 500);\r\n\r\n    const { r, g, b } = this.selectedFilter;\r\n\r\n    for (let i = 0; i < pixels.data.length; i += 4) {\r\n      pixels.data[i + 0] = pixels.data[i + 0] + r; // RED\r\n      pixels.data[i + 1] = pixels.data[i + 1] + g; // GREEN\r\n      pixels.data[i + 2] = pixels.data[i + 2] + b; // Blue\r\n    }\r\n\r\n    this.ctx.putImageData(pixels, 0, 0);\r\n  };\r\n}\r\n","export interface IFilter {\r\n  title: string;\r\n  r: number;\r\n  g: number;\r\n  b: number;\r\n}\r\n\r\nexport const filters: IFilter[] = [\r\n  {\r\n    title: \"lightBlue\",\r\n    r: 0,\r\n    g: -7,\r\n    b: 35.5\r\n  },\r\n  {\r\n    title: \"Brilliant Lavander\",\r\n    r: 6,\r\n    g: -36,\r\n    b: 15\r\n  },\r\n  {\r\n    title: \"Camouflage Green\",\r\n    r: 0,\r\n    g: 14,\r\n    b: -13\r\n  },\r\n  {\r\n    title: \"Azure Mist\",\r\n    r: 15,\r\n    g: 30,\r\n    b: 30\r\n  },\r\n  {\r\n    title: \"Amber\",\r\n    r: 5,\r\n    g: -49,\r\n    b: -70\r\n  },\r\n  {\r\n    title: \"Alien\",\r\n    r: -28,\r\n    g: 2,\r\n    b: -58\r\n  },\r\n  {\r\n    title: \"Cool Green\",\r\n    r: -91,\r\n    g: 15,\r\n    b: -36\r\n  },\r\n  {\r\n    title: \"Snow\",\r\n    r: 55,\r\n    g: 50,\r\n    b: 50\r\n  },\r\n  {\r\n    title: \"Sky Blue\",\r\n    r: -65,\r\n    g: 6,\r\n    b: 15\r\n  },\r\n  {\r\n    title: \"Lime\",\r\n    r: -50,\r\n    g: 5,\r\n    b: -50\r\n  },\r\n  {\r\n    title: \"Hot Pink\",\r\n    r: 25,\r\n    g: -25,\r\n    b: 0\r\n  },\r\n  {\r\n    title: \"Turquoise\",\r\n    r: -100,\r\n    g: 16,\r\n    b: 19\r\n  }\r\n];\r\n","type CustomEvent = Event & MouseEvent;\r\n\r\ninterface CustomButton extends HTMLButtonElement {\r\n  textContent: string;\r\n}\r\n\r\nexport class PaintBrush {\r\n  painting: boolean = false;\r\n  brushWidth: number = 5;\r\n  brushColor: string = \"#37ccc9\";\r\n  changeWidthBtns: NodeList = document.querySelectorAll(\".change_bw\");\r\n  changeColor: HTMLInputElement | null = document.querySelector<\r\n    HTMLInputElement\r\n  >(\".change_bc\");\r\n\r\n  constructor(public canvas: HTMLCanvasElement, public ctx: any) {}\r\n\r\n  addListeners = (): void => {\r\n    const handleEvent = (e: Event): void => {\r\n      switch (e.type) {\r\n        case \"mousedown\":\r\n          this.painting = true;\r\n          break;\r\n        case \"mouseup\":\r\n          this.painting = false;\r\n          break;\r\n        case \"mousemove\":\r\n          this.painting && this.addPaint(<CustomEvent>e);\r\n          break;\r\n        case \"mouseleave\":\r\n          this.painting = false;\r\n          break;\r\n      }\r\n    };\r\n\r\n    \"mousedown mouseup mousemove mouseleave\".split(\" \").map(name => {\r\n      console.log(\"Adding listener \" + name + \" to canvas\");\r\n      this.canvas.addEventListener(name, handleEvent, false);\r\n    });\r\n\r\n    if (this.changeWidthBtns) {\r\n      this.changeWidthBtns.forEach((button: Node) => {\r\n        button.addEventListener(\"click\", (e: Event) => {\r\n          if (e.target) {\r\n            this.changeBrushWidth(\r\n              parseInt((e.target as CustomButton).textContent)\r\n            );\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n    if (this.changeColor) {\r\n      this.changeColor.addEventListener(\"change\", (e: Event) => {\r\n        this.changeBrushColor((e.target as HTMLInputElement).value);\r\n      });\r\n    }\r\n  };\r\n\r\n  addPaint = (e: MouseEvent) => {\r\n    const mouseX = e.clientX;\r\n    const mouseY = e.clientY;\r\n    this.ctx.strokeStyle = this.brushColor;\r\n    this.ctx.lineWidth = this.brushWidth;\r\n    this.ctx.lineJoin = \"round\";\r\n    this.ctx.lineCap = \"round\";\r\n    this.ctx.beginPath();\r\n    const { left, top } = this.canvas.getBoundingClientRect();\r\n    this.ctx.moveTo(mouseX - left, mouseY - top);\r\n    this.ctx.lineTo(mouseX - left, mouseY - top);\r\n\r\n    this.ctx.stroke();\r\n  };\r\n\r\n  changeBrushWidth = (width: number): void => {\r\n    this.brushWidth = width;\r\n  };\r\n\r\n  changeBrushColor = (color: string): void => {\r\n    this.brushColor = color;\r\n  };\r\n}\r\n","export class ToolMenu {\r\n  showToolMenu: string | null = null;\r\n  paintTool: HTMLButtonElement | null = document.querySelector<\r\n    HTMLButtonElement\r\n  >(\"#paint_tool\");\r\n  textTool: HTMLButtonElement | null = document.querySelector<\r\n    HTMLButtonElement\r\n  >(\"#text_tool\");\r\n  paintToolMenu: HTMLDivElement | null = document.querySelector<HTMLDivElement>(\r\n    \"#paint_tool_menu\"\r\n  );\r\n  textToolMenu: HTMLDivElement | null = document.querySelector<HTMLDivElement>(\r\n    \"#text_tool_menu\"\r\n  );\r\n\r\n  addListeners = (): void => {\r\n    this.paintTool &&\r\n      this.paintTool.addEventListener(\"click\", (e: Event) =>\r\n        this.toggleToolMenu(e)\r\n      );\r\n\r\n    this.textTool &&\r\n      this.textTool.addEventListener(\"click\", (e: Event) => {\r\n        this.toggleToolMenu(e);\r\n      });\r\n\r\n    const closeBtns = document.querySelectorAll(\".close_toolmenu\");\r\n\r\n    closeBtns.forEach(button => {\r\n      button.addEventListener(\r\n        \"click\",\r\n        (e: any) => (e.target.parentElement.style.display = \"none\")\r\n      );\r\n    });\r\n  };\r\n\r\n  toggleToolMenu = (e: any): void => {\r\n    if (\r\n      e.target &&\r\n      e.target.id === \"paint_tool\" &&\r\n      this.paintToolMenu &&\r\n      this.textToolMenu\r\n    ) {\r\n      this.textToolMenu.style.display = \"none\";\r\n      this.paintToolMenu.style.display = \"flex\";\r\n    } else if (\r\n      e.target.id === \"text_tool\" &&\r\n      this.paintToolMenu &&\r\n      this.textToolMenu\r\n    ) {\r\n      this.paintToolMenu.style.display = \"none\";\r\n      this.textToolMenu.style.display = \"flex\";\r\n    } else if (e.target.className === \"close\") {\r\n      console.log(e.target.parentElement);\r\n    }\r\n  };\r\n}\r\n","import { ID } from \"./helpers/randomId\";\r\n\r\ntype CustomEvent = Event & MouseEvent;\r\n\r\ninterface IText {\r\n  text: string;\r\n  id: string;\r\n  x: number;\r\n  y: number;\r\n  offsetW: number;\r\n  offsetH: number;\r\n  color: string;\r\n  size: number;\r\n}\r\n\r\ninterface TextDiv extends HTMLDivElement {\r\n  width: number;\r\n  height: number;\r\n}\r\n\r\nexport class Text {\r\n  addedText: IText[] = [];\r\n  textInput: HTMLTextAreaElement | null = document.querySelector<\r\n    HTMLTextAreaElement\r\n  >(\"#text_input\");\r\n  addTextBtn: HTMLButtonElement | null = document.querySelector<\r\n    HTMLButtonElement\r\n  >(\"#add_text_btn\");\r\n  dragging: boolean = false;\r\n  textSize: number = 16;\r\n  textColor: string = \"#ffffff\";\r\n\r\n  constructor(public canvas: HTMLCanvasElement, public ctx: any) {}\r\n\r\n  addListeners = () => {\r\n    if (this.addTextBtn) {\r\n      this.addTextBtn.addEventListener(\"click\", () => this.addText());\r\n    }\r\n\r\n    const handleEvent = (e: Event): void => {\r\n      switch (e.type) {\r\n        case \"click\":\r\n          console.log(\"Hey you clicked \" + e.target);\r\n          break;\r\n\r\n        case \"mousedown\":\r\n          this.dragging = true;\r\n          console.log(this.dragging);\r\n          break;\r\n        case \"mouseup\":\r\n          this.dragging = false;\r\n          this.updateTextCords(<CustomEvent>e, (e.target as Element).id);\r\n          break;\r\n        case \"mouseleave\":\r\n          this.dragging = false;\r\n          this.updateTextCords(<CustomEvent>e, (e.target as Element).id);\r\n          break;\r\n        case \"mousemove\":\r\n          if (this.dragging) {\r\n            this.moveText(<CustomEvent>e);\r\n            this.updateTextCords(<CustomEvent>e, (e.target as Element).id);\r\n          }\r\n          break;\r\n        case \"dblclick\":\r\n          this.deleteText((e.target as Element).id);\r\n          break;\r\n        default:\r\n          return;\r\n      }\r\n    };\r\n\r\n    const textsAdded = document.querySelectorAll(\".added_text\");\r\n\r\n    textsAdded.forEach((text: Node) => {\r\n      \"click mousedown mouseup mouseleave mousemove dblclick\"\r\n        .split(\" \")\r\n        .map(name => {\r\n          text.addEventListener(name, handleEvent, false);\r\n        });\r\n    });\r\n\r\n    const changeTextSizeBtns = document.querySelectorAll(\".change_ts\");\r\n\r\n    changeTextSizeBtns.forEach((button: Node) => {\r\n      button.addEventListener(\"click\", (e: any) =>\r\n        this.changeTextSize(parseInt(e.target.textContent))\r\n      );\r\n    });\r\n\r\n    const changeColor = document.querySelector<HTMLInputElement>(\r\n      \"#text_color_input\"\r\n    );\r\n\r\n    changeColor &&\r\n      changeColor.addEventListener(\"change\", (e: any) => {\r\n        this.changeTextColor(e.target.value);\r\n      });\r\n  };\r\n\r\n  addText = (): void => {\r\n    if (this.textInput) {\r\n      if (this.textInput.value === \"\") return;\r\n      const body = document.querySelector<HTMLBodyElement>(\"body\");\r\n      const centerX = body && body.clientWidth / 2;\r\n      const centerY = body && body.clientHeight / 2;\r\n\r\n      if (centerX && centerY) {\r\n        const newText: IText = {\r\n          text: this.textInput.value,\r\n          id: ID(),\r\n          x: centerX,\r\n          y: centerY,\r\n          offsetW: 0,\r\n          offsetH: 0,\r\n          color: this.textColor,\r\n          size: this.textSize\r\n        };\r\n\r\n        const newAddedText = document.createElement(\"div\");\r\n\r\n        newAddedText.classList.add(\"added_text\");\r\n\r\n        newAddedText.id = newText.id;\r\n        newAddedText.style.left = `${newText.x}px`;\r\n        newAddedText.style.top = `${newText.y}px`;\r\n        newAddedText.style.color = newText.color;\r\n        newAddedText.style.fontSize = `${newText.size}px`;\r\n        newAddedText.textContent = newText.text;\r\n        newAddedText.draggable = false;\r\n\r\n        body && body.appendChild(newAddedText);\r\n        const newTextDom: HTMLDivElement | null = document.querySelector(\r\n          `#${newText.id}`\r\n        );\r\n        console.log(newTextDom);\r\n        if (newTextDom) {\r\n          newText.offsetW = newTextDom && newTextDom.offsetWidth;\r\n          newText.offsetH = newTextDom && newTextDom.offsetHeight;\r\n        }\r\n\r\n        this.addListeners();\r\n        this.addedText.push(newText);\r\n        console.log(newText, this.addedText);\r\n\r\n        this.textInput.value = \"\";\r\n      }\r\n    }\r\n  };\r\n\r\n  moveText = (e: MouseEvent): void => {\r\n    const mouseX = e.clientX;\r\n    const mouseY = e.clientY;\r\n    const text: any = e.target;\r\n    console.log(text.offsetHeight, text.offsetWidth);\r\n    if (text && this.dragging) {\r\n      text.style.left = `${mouseX - text.offsetWidth / 2}px`;\r\n      text.style.top = `${mouseY - text.offsetHeight / 2}px`;\r\n    }\r\n  };\r\n\r\n  updateTextCords = (e: CustomEvent, id: string): void => {\r\n    const { left, top } = this.canvas.getBoundingClientRect();\r\n\r\n    const updatedText = e.target as HTMLDivElement;\r\n    const mouseX = e.clientX - updatedText.offsetWidth / 2 - e.offsetX / 2;\r\n    const mouseY = e.clientY + updatedText.offsetHeight / 2 - e.offsetY / 2;\r\n\r\n    console.log(\r\n      `clientY: ${\r\n        e.clientY\r\n      }, e.target.offsetHeight / 2: ${updatedText.offsetHeight /\r\n        2}, e.offsetY: ${e.offsetY}`\r\n    );\r\n\r\n    console.log(updatedText.offsetLeft - left, updatedText.offsetTop - top);\r\n\r\n    const newTexts = this.addedText.map(\r\n      (text: IText): IText => {\r\n        if (id === text.id) {\r\n          text.x = updatedText.offsetLeft - left;\r\n          text.y = updatedText.offsetTop - top + updatedText.offsetHeight;\r\n        }\r\n        return text;\r\n      }\r\n    );\r\n    this.addedText = newTexts;\r\n    console.log(this.addedText);\r\n  };\r\n\r\n  deleteText = (id: string) => {\r\n    const filterdTexts = this.addedText.filter((text: IText) => {\r\n      return text.id !== id;\r\n    });\r\n\r\n    this.addedText = filterdTexts;\r\n\r\n    const text = document.querySelector<HTMLDivElement>(`#${id}`);\r\n    text && text.remove();\r\n  };\r\n\r\n  changeTextSize = (size: number): void => {\r\n    this.textSize = size;\r\n  };\r\n\r\n  changeTextColor = (color: string): void => {\r\n    this.textColor = color;\r\n  };\r\n}\r\n","import { Stickers } from \"./Stickers\";\r\nimport { stickers } from \"./stickers/index\";\r\nimport { Filters } from \"./Filters\";\r\nimport { filters } from \"./filters/filters\";\r\nimport { PaintBrush } from \"./PaintBrush\";\r\nimport { ToolMenu } from \"./ToolMenu\";\r\nimport { Text } from \"./Text\";\r\n\r\nconst body = document.querySelector<HTMLBodyElement>(\"body\");\r\nconst canvas = document.querySelector<HTMLCanvasElement>(\"canvas\");\r\nconst ctx = canvas && canvas.getContext(\"2d\");\r\nconst imgInput = document.querySelector<HTMLInputElement>(\"#img-input\");\r\nconst image = document.querySelector<HTMLImageElement>(\"#canvas-img\");\r\nconst addTextBtn = document.querySelector<HTMLButtonElement>(\"#add_text_btn\");\r\nconst addStickerBtn = document.querySelector<HTMLButtonElement>(\r\n  \"#add_sticker_btn\"\r\n);\r\nconst addFilterBtn = document.querySelector<HTMLButtonElement>(\r\n  \"#add_filter_btn\"\r\n);\r\n\r\nconst topTextInput = document.querySelector<HTMLInputElement>(\r\n  \"#top_text_input\"\r\n);\r\n\r\n//const saveNewImage = document.querySelector<HTMLButtonElement>(\"#save_img\");\r\n\r\nclass Canvas<T extends HTMLCanvasElement> {\r\n  width: number = 500;\r\n  height: number = 500;\r\n  constructor(\r\n    public canvas: T,\r\n\r\n    public Stickers: Stickers,\r\n    public Filters: Filters,\r\n    public PaintBrush: PaintBrush,\r\n    public Text: Text\r\n  ) {}\r\n\r\n  setupCanvas = (): void => {\r\n    console.log(this.canvas);\r\n    this.canvas.width = this.width;\r\n    this.canvas.height = this.height;\r\n    console.log(ctx);\r\n  };\r\n\r\n  uploadImg = (): void => {\r\n    const img: HTMLImageElement = new Image();\r\n\r\n    if (imgInput && imgInput.files) {\r\n      img.src = URL.createObjectURL(imgInput.files[0]);\r\n      img.onload = () => {\r\n        ctx && ctx.drawImage(img, 0, 0, this.width, this.height);\r\n      };\r\n    }\r\n  };\r\n\r\n  /*addText = (): void => {\r\n    const topText = topTextInput && topTextInput.value;\r\n    if (ctx && topText) {\r\n      ctx.font = \"50px Arial\";\r\n      ctx.fillStyle = \"rgba(150, 150, 150, 1)\";\r\n      ctx.fillText(topText, 10, 60);\r\n      ctx.textAlign = \"center\";\r\n    }\r\n  };*/\r\n\r\n  addListeners = (): void => {\r\n    const saveImageBtn = document.querySelector<HTMLButtonElement>(\r\n      \"#download_img_btn\"\r\n    );\r\n\r\n    const goBackBtn = document.querySelector<HTMLAnchorElement>(\".go_back\");\r\n\r\n    const downloadScreen = document.querySelector<HTMLDivElement>(\r\n      \".download_image\"\r\n    );\r\n\r\n    if (downloadScreen && goBackBtn && saveImageBtn) {\r\n      saveImageBtn.addEventListener(\"click\", () => {\r\n        downloadScreen.style.display = \"flex\";\r\n        this.saveImage();\r\n      });\r\n\r\n      goBackBtn.addEventListener(\"click\", () => {\r\n        downloadScreen.style.display = \"none\";\r\n      });\r\n    }\r\n  };\r\n\r\n  saveImage = (): void => {\r\n    // TODO: WRITE A FUNCTION TO LOOP TROUGH THE ADDED STICKERS ARRAY AND ADD THE STICKERS TO CANVAS\r\n    const downloadScreen = document.querySelector<HTMLDivElement>(\r\n      \".download_image\"\r\n    );\r\n\r\n    const pixels =\r\n      ctx && ctx.getImageData(0, 0, this.canvas.width, this.canvas.height);\r\n    const saveCanvas: HTMLCanvasElement | null = document.querySelector(\r\n      \".save_canvas\"\r\n    );\r\n\r\n    if (saveCanvas) {\r\n      saveCanvas.width = 500;\r\n      saveCanvas.height = 500;\r\n      saveCanvas.classList.add(\"save_canvas\");\r\n\r\n      const saveCtx = saveCanvas && saveCanvas.getContext(\"2d\");\r\n      if (saveCtx && pixels) {\r\n        saveCtx.putImageData(pixels, 0, 0);\r\n      }\r\n      downloadScreen &&\r\n        downloadScreen.insertBefore(saveCanvas, downloadScreen.childNodes[2]);\r\n\r\n      const link = document.createElement(\"a\");\r\n      //link.className = \"modalSave\";\r\n      //const image = document.createElement(\"img\");\r\n      //link.className = \"download_image\";\r\n      link.innerHTML = \"Download image\";\r\n      //link.appendChild(image);\r\n\r\n      const { left, top } = saveCanvas.getBoundingClientRect();\r\n      console.log(\"left: \" + left, \"top: \" + top);\r\n      const addedStickers = this.Stickers.addedStickers;\r\n      const addedTexts = this.Text.addedText;\r\n      // ctx.drawImage(logoSvg, addedStickers[i].x - canvasXbounding, addedStickers[i].y - canvasYbounding, addedStickers[i].width * addedStickers[i].size , addedStickers[i].height * addedStickers[i].size);\r\n      // console.log(addedTexts, \"left: \" + left, \"top: \" + top);\r\n      if (saveCtx && addedStickers.length > 0) {\r\n        for (let i = 0; i < addedStickers.length; i++) {\r\n          const logoSvg = new Image();\r\n          logoSvg.src = addedStickers[i].src;\r\n          logoSvg.onload = () => {\r\n            addedStickers[i].x !== undefined &&\r\n              addedStickers[i].y !== undefined &&\r\n              saveCtx.drawImage(\r\n                logoSvg,\r\n                addedStickers[i].x,\r\n                addedStickers[i].y,\r\n                addedStickers[i].width,\r\n                Math.floor(addedStickers[i].height)\r\n              );\r\n          };\r\n          console.log(\r\n            `${addedStickers[i].title}, x: ${addedStickers[i].x}, y: ${\r\n              addedStickers[i].y\r\n            } `\r\n          );\r\n        }\r\n      }\r\n\r\n      // TODO MAKE WRITING TEXT TO CANVAS WORK!\r\n      if (saveCtx && addedTexts.length > 0) {\r\n        for (let i = 0; i < addedTexts.length; i++) {\r\n          /*\r\n          addedTexts[i].x !== undefined &&\r\n            addedTexts[i].y !== undefined &&\r\n            saveCtx.drawImage(\r\n              logoSvg,\r\n              addedTexts[i].x - left - addedTexts[i].width / 2,\r\n              addedTexts[i].y - top - addedTexts[i].height / 2,\r\n              addedTexts[i].width,\r\n              addedTexts[i].height\r\n            );\r\n        */\r\n\r\n          console.log(\r\n            saveCtx.measureText(addedTexts[i].text),\r\n            addedTexts[i].text\r\n          );\r\n          saveCtx.font = `${addedTexts[i].size}px Arial`;\r\n\r\n          saveCtx.fillStyle = `${addedTexts[i].color}`;\r\n          saveCtx.fillText(\r\n            addedTexts[i].text,\r\n            addedTexts[i].x,\r\n            addedTexts[i].y\r\n          );\r\n          console.log(saveCanvas);\r\n          //saveCtx.fillText(addedTexts[i].text, 10, 60);\r\n          console.log(\r\n            `${addedTexts[i].text}, x: ${addedTexts[i].x}, y: ${\r\n              addedTexts[i].y\r\n            } `\r\n          );\r\n        }\r\n      }\r\n      const prevLink = document.querySelector(\".download_image_link\");\r\n\r\n      if (prevLink) {\r\n        prevLink.remove();\r\n      }\r\n\r\n      link.className = \"download_image_link\";\r\n      link.addEventListener(\r\n        \"click\",\r\n        ev => {\r\n          link.href = saveCanvas.toDataURL();\r\n          link.download = `FilterMatic${new Date().toISOString()}.png`;\r\n          link.remove();\r\n        },\r\n        false\r\n      );\r\n      downloadScreen && downloadScreen.appendChild(link);\r\n    }\r\n  };\r\n}\r\n\r\nif (\r\n  canvas &&\r\n  imgInput &&\r\n  addTextBtn &&\r\n  addStickerBtn &&\r\n  addFilterBtn\r\n  //saveNewImage\r\n) {\r\n  const ctx = canvas.getContext(\"2d\");\r\n  const NewCanvas = new Canvas<HTMLCanvasElement>(\r\n    canvas,\r\n\r\n    new Stickers(stickers, stickers[0], ctx, canvas),\r\n    new Filters(filters, filters[0], ctx),\r\n    new PaintBrush(canvas, ctx),\r\n    new Text(canvas, ctx)\r\n  );\r\n\r\n  const toolMenu = new ToolMenu();\r\n\r\n  NewCanvas.Text.addListeners();\r\n  NewCanvas.setupCanvas();\r\n  NewCanvas.Stickers.setupStickerMenu();\r\n  NewCanvas.Filters.setupFilterMenu();\r\n  NewCanvas.PaintBrush.addListeners();\r\n  NewCanvas.addListeners();\r\n  toolMenu.addListeners();\r\n  // toolMenu.setupToolMenu();\r\n  imgInput.addEventListener(\"change\", NewCanvas.uploadImg);\r\n  //addTextBtn.addEventListener(\"click\", NewCanvas.addText);\r\n\r\n  /*canvas.addEventListener(\"mousemove\", e => {\r\n    mouseX = e.clientX;\r\n    mouseY = e.clientY;\r\n  });*/\r\n  canvas.addEventListener(\"click\", () => console.log(\"clickin\"));\r\n  addStickerBtn.addEventListener(\"click\", () => {\r\n    NewCanvas.Stickers.addSticker();\r\n  });\r\n  addFilterBtn.addEventListener(\"click\", () => {\r\n    NewCanvas.Filters.addFilter();\r\n  });\r\n  // saveNewImage.addEventListener(\"click\", () => NewCanvas.saveImage());\r\n  //console.log(canvas.getBoundingClientRect());\r\n}\r\n"]}